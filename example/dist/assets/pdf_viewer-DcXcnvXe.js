var qr=Object.defineProperty;var bs=a=>{throw TypeError(a)};var ea=(a,e,t)=>e in a?qr(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var Q=(a,e,t)=>ea(a,typeof e!="symbol"?e+"":e,t),En=(a,e,t)=>e.has(a)||bs("Cannot "+t);var o=(a,e,t)=>(En(a,e,"read from private field"),t?t.call(a):e.get(a)),g=(a,e,t)=>e.has(a)?bs("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,t),c=(a,e,t,i)=>(En(a,e,"write to private field"),i?i.call(a,t):e.set(a,t),t),u=(a,e,t)=>(En(a,e,"access private method"),t);var vn=(a,e,t,i)=>({set _(n){c(a,e,n,t)},get _(){return o(a,e,i)}});const{AbortException:ta,AnnotationEditorLayer:ia,AnnotationEditorParamsType:fl,AnnotationEditorType:J,AnnotationEditorUIManager:na,AnnotationLayer:sa,AnnotationMode:Le,AnnotationType:Js,build:gl,ColorPicker:pl,createValidAbsoluteUrl:qs,DOMSVGFactory:ml,DrawLayer:ra,FeatureTest:aa,fetchData:ws,getDocument:bl,getFilenameFromUrl:wl,getPdfFilenameFromUrl:oa,getRGB:El,getUuid:vl,getXfaPageViewport:yl,GlobalWorkerOptions:Pl,ImageKind:_l,InvalidPDFException:xl,isDataScheme:Sl,isPdfFile:la,isValidExplicitDest:da,MathClamp:gs,noContextMenu:Il,normalizeUnicode:ha,OPS:Al,OutputScale:qi,PasswordResponses:Cl,PDFDataRangeTransport:Ll,PDFDateString:Tl,PDFWorker:Rl,PermissionFlag:bt,PixelsPerInch:we,RenderingCancelledException:Cn,ResponseException:Nl,setLayerDimensions:er,shadow:cn,SignatureExtractor:Ml,stopEvent:Ln,SupportedImageMimeTypes:Dl,TextLayer:ua,TouchManager:kl,updateUrlHash:ca,Util:ps,VerbosityLevel:jl,version:Es,XfaLayer:yn}=globalThis.pdfjsLib,fa="auto",tr=1,vs=1.1,ga=.1,pa=10,Pn=0,ma=1.25,ys=40,Ps=5,F={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},yt={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},ge={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},j={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},X={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function ir(a,e,t=!1){let i=a.offsetParent;if(!i){console.error("offsetParent is not set -- cannot scroll");return}let n=a.offsetTop+a.clientTop,s=a.offsetLeft+a.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||t&&(i.classList.contains("markedContent")||getComputedStyle(i).overflow==="hidden");)if(n+=i.offsetTop,s+=i.offsetLeft,i=i.offsetParent,!i)return;if(e&&(e.top!==void 0&&(n+=e.top),e.left!==void 0)){if(t){const r=a.getBoundingClientRect().width,l=gs((i.clientWidth-r)/2,20,400);s+=e.left-l}else s+=e.left;i.scrollLeft=s}i.scrollTop=n}function ba(a,e,t=void 0){const i=function(r){s||(s=window.requestAnimationFrame(function(){s=null;const d=a.scrollLeft,h=n.lastX;d!==h&&(n.right=d>h),n.lastX=d;const f=a.scrollTop,b=n.lastY;f!==b&&(n.down=f>b),n.lastY=f,e(n)}))},n={right:!0,down:!0,lastX:a.scrollLeft,lastY:a.scrollTop,_eventHandler:i};let s=null;return a.addEventListener("scroll",i,{useCapture:!0,signal:t}),t==null||t.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),n}function wn(a){const e=new Map;for(const[t,i]of new URLSearchParams(a))e.set(t.toLowerCase(),i);return e}const _s=/[\x00-\x1F]/g;function ni(a,e=!1){return _s.test(a)?e?a.replaceAll(_s,t=>t==="\0"?"":" "):a.replaceAll("\0",""):a}function ai(a,e,t=0){let i=t,n=a.length-1;if(n<0||!e(a[n]))return a.length;if(e(a[i]))return i;for(;i<n;){const s=i+n>>1,r=a[s];e(r)?n=s:i=s+1}return i}function xs(a){if(Math.floor(a)===a)return[a,1];const e=1/a,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];const i=a>1?e:a;let n=0,s=1,r=1,l=1;for(;;){const h=n+r,f=s+l;if(f>t)break;i<=h/f?(r=h,l=f):(n=h,s=f)}let d;return i-n/s<r/l-i?d=i===a?[n,s]:[s,n]:d=i===a?[r,l]:[l,r],d}function Ki(a,e){return a-a%e}function wa(a,e,t){if(a<2)return a;let i=e[a].div,n=i.offsetTop+i.clientTop;n>=t&&(i=e[a-1].div,n=i.offsetTop+i.clientTop);for(let s=a-2;s>=0&&(i=e[s].div,!(i.offsetTop+i.clientTop+i.clientHeight<=n));--s)a=s;return a}function Ea({scrollEl:a,views:e,sortByVisibility:t=!1,horizontal:i=!1,rtl:n=!1}){const s=a.scrollTop,r=s+a.clientHeight,l=a.scrollLeft,d=l+a.clientWidth;function h(C){const v=C.div;return v.offsetTop+v.clientTop+v.clientHeight>s}function f(C){const v=C.div,S=v.offsetLeft+v.clientLeft,M=S+v.clientWidth;return n?S<d:M>l}const b=[],m=new Set,E=e.length;let P=ai(e,i?f:h);P>0&&P<E&&!i&&(P=wa(P,e,s));let x=i?d:-1;for(let C=P;C<E;C++){const v=e[C],S=v.div,M=S.offsetLeft+S.clientLeft,k=S.offsetTop+S.clientTop,O=S.clientWidth,A=S.clientHeight,w=M+O,y=k+A;if(x===-1)y>=r&&(x=y);else if((i?M:k)>x)break;if(y<=s||k>=r||w<=l||M>=d)continue;const D=Math.max(0,s-k),V=Math.max(0,l-M),Y=D+Math.max(0,y-r),$=V+Math.max(0,w-d),Gi=(A-Y)/A,B=(O-$)/O,G=Gi*B*100|0;b.push({id:v.id,x:M,y:k,visibleArea:G===100?null:{minX:V,minY:D,maxX:Math.min(w,d)-M,maxY:Math.min(y,r)-k},view:v,percent:G,widthPercent:B*100|0}),m.add(v.id)}const T=b[0],N=b.at(-1);return t&&b.sort(function(C,v){const S=C.percent-v.percent;return Math.abs(S)>.001?-S:C.id-v.id}),{first:T,last:N,views:b,ids:m}}function nr(a){return Number.isInteger(a)&&a%90===0}function va(a){return Number.isInteger(a)&&Object.values(j).includes(a)&&a!==j.UNKNOWN}function ya(a){return Number.isInteger(a)&&Object.values(X).includes(a)&&a!==X.UNKNOWN}function Ss(a){return a.width<=a.height}new Promise(function(a){window.requestAnimationFrame(a)});const Pa=document.documentElement.style;var ke,st,je,_t,rt;class _a{constructor(e){g(this,ke,null);g(this,st,null);g(this,je,0);g(this,_t,null);g(this,rt,!0);c(this,ke,e.classList),c(this,_t,e.style)}get percent(){return o(this,je)}set percent(e){if(c(this,je,gs(e,0,100)),isNaN(e)){o(this,ke).add("indeterminate");return}o(this,ke).remove("indeterminate"),o(this,_t).setProperty("--progressBar-percent",`${o(this,je)}%`)}setWidth(e){if(!e)return;const i=e.parentNode.offsetWidth-e.offsetWidth;i>0&&o(this,_t).setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(e=5e3){o(this,je)===100||isNaN(o(this,je))||(o(this,st)&&clearTimeout(o(this,st)),this.show(),c(this,st,setTimeout(()=>{c(this,st,null),this.hide()},e)))}hide(){o(this,rt)&&(c(this,rt,!1),o(this,ke).add("hidden"))}show(){o(this,rt)||(c(this,rt,!0),o(this,ke).remove("hidden"))}}ke=new WeakMap,st=new WeakMap,je=new WeakMap,_t=new WeakMap,rt=new WeakMap;function xa(a){let e=j.VERTICAL,t=X.NONE;switch(a){case"SinglePage":e=j.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=j.PAGE;case"TwoColumnLeft":t=X.ODD;break;case"TwoPageRight":e=j.PAGE;case"TwoColumnRight":t=X.EVEN;break}return{scrollMode:e,spreadMode:t}}const Yi=function(){const a=document.createElement("div");return a.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)",a.style.width==="calc(1320px)"?Math.fround:e=>e}(),oe={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function Sa(a){return a<11904}function Ia(a){return(a&65408)===0}function Aa(a){return a>=97&&a<=122||a>=65&&a<=90}function Ca(a){return a>=48&&a<=57}function La(a){return a===32||a===9||a===13||a===10}function Ta(a){return a>=13312&&a<=40959||a>=63744&&a<=64255}function Ra(a){return a>=12448&&a<=12543}function Na(a){return a>=12352&&a<=12447}function Ma(a){return a>=65376&&a<=65439}function Da(a){return(a&65408)===3584}function Zi(a){return Sa(a)?Ia(a)?La(a)?oe.SPACE:Aa(a)||Ca(a)||a===95?oe.ALPHA_LETTER:oe.PUNCT:Da(a)?oe.THAI_LETTER:a===160?oe.SPACE:oe.ALPHA_LETTER:Ta(a)?oe.HAN_LETTER:Ra(a)?oe.KATAKANA_LETTER:Na(a)?oe.HIRAGANA_LETTER:Ma(a)?oe.HALFWIDTH_KATAKANA_LETTER:oe.ALPHA_LETTER}let Is;function ka(){return Is||(Is=" ¨ª¯²-µ¸-º¼-¾Ĳ-ĳĿ-ŀŉſǄ-ǌǱ-ǳʰ-ʸ˘-˝ˠ-ˤʹͺ;΄-΅·ϐ-ϖϰ-ϲϴ-ϵϹևٵ-ٸक़-य़ড়-ঢ়য়ਲ਼ਸ਼ਖ਼-ਜ਼ਫ਼ଡ଼-ଢ଼ำຳໜ-ໝ༌གྷཌྷདྷབྷཛྷཀྵჼᴬ-ᴮᴰ-ᴺᴼ-ᵍᵏ-ᵪᵸᶛ-ᶿẚ-ẛάέήίόύώΆ᾽-῁ΈΉ῍-῏ΐΊ῝-῟ΰΎ῭-`ΌΏ´-῾ - ‑‗․-… ″-‴‶-‷‼‾⁇-⁉⁗ ⁰-ⁱ⁴-₎ₐ-ₜ₨℀-℃℅-ℇ℉-ℓℕ-№ℙ-ℝ℠-™ℤΩℨK-ℭℯ-ℱℳ-ℹ℻-⅀ⅅ-ⅉ⅐-ⅿ↉∬-∭∯-∰〈-〉①-⓪⨌⩴-⩶⫝̸ⱼ-ⱽⵯ⺟⻳⼀-⿕　〶〸-〺゛-゜ゟヿㄱ-ㆎ㆒-㆟㈀-㈞㈠-㉇㉐-㉾㊀-㏿ꚜ-ꚝꝰꟲ-ꟴꟸ-ꟹꭜ-ꭟꭩ豈-嗀塚晴凞-羽蘒諸逸-都飯-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼︐-︙︰-﹄﹇-﹒﹔-﹦﹨-﹫ﹰ-ﹲﹴﹶ-ﻼ！-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ￠-￦"),Is}const Ne={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},ja=250,Oa=-50,As={"‐":"-","‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},Cs=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let Ls;const Fa=new RegExp("\\p{M}+","gu"),Va=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),Ba=new RegExp("([^\\p{M}])\\p{M}*$","u"),Ha=new RegExp("^\\p{M}*([^\\p{M}])","u"),Ua=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,Ts=new Map,Wa="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",Rs=new Map;let _n=null,xn=null;function en(a,e={}){const t=[];let i;for(;(i=Ua.exec(a))!==null;){let{index:C}=i;for(const v of i[0]){let S=Ts.get(v);S||(S=v.normalize("NFD").length,Ts.set(v,S)),t.push([S,C++])}}const n=t.length>0,s=e.ignoreDashEOL??!1;let r;if(!n&&_n)r=_n;else if(n&&xn)r=xn;else{const C=Object.keys(As).join(""),v=ka(),O=[`[${C}]`,`[${v}]`,"(?:゙|゚)\\n","\\p{M}+(?:-\\n)?","\\p{Ll}-\\n(?=\\p{Ll})|\\p{Lu}-\\n(?=\\p{L})","\\S-\\n","(?:\\p{Ideographic}|[぀-ヿ])\\n","\\n",n?Wa:"\\u0000"];r=new RegExp(O.map(A=>`(${A})`).join("|"),"gum"),n?xn=r:_n=r}const l=[];for(;(i=Fa.exec(a))!==null;)l.push([i[0].length,i.index]);let d=a.normalize("NFD");const h=[0,0];let f=0,b=0,m=0,E=0,P=0,x=!1;d=d.replace(r,(C,v,S,M,k,O,A,w,y,D,V)=>{var Y,$,Gi;if(V-=E,v){const B=As[v],G=B.length;for(let Z=1;Z<G;Z++)h.push(V-m+Z,m-Z);return m-=G-1,B}if(S){let B=Rs.get(S);B||(B=S.normalize("NFKC"),Rs.set(S,B));const G=B.length;for(let Z=1;Z<G;Z++)h.push(V-m+Z,m-Z);return m-=G-1,B}if(M)return x=!0,V+P===((Y=l[f])==null?void 0:Y[1])?++f:(h.push(V-1-m+1,m-1),m-=1,E+=1),h.push(V-m+1,m),E+=1,P+=1,M.charAt(0);if(k){const B=k.endsWith(`
`),G=B?k.length-2:k.length;x=!0;let Z=G;V+P===(($=l[f])==null?void 0:$[1])&&(Z-=l[f][0],++f);for(let Xi=1;Xi<=Z;Xi++)h.push(V-1-m+Xi,m-Xi);return m-=Z,E+=Z,B?(V+=G-1,h.push(V-m+1,1+m),m+=1,E+=1,P+=1,k.slice(0,G)):k}if(O){if(s)return E+=1,P+=1,O.slice(0,-1);const B=O.length-2;return h.push(V-m+B,1+m),m+=1,E+=1,P+=1,O.slice(0,-2)}if(A)return E+=1,P+=1,A.slice(0,-1);if(w){const B=w.length-1;return h.push(V-m+B,m),E+=1,P+=1,w.slice(0,-1)}if(y)return h.push(V-m+1,m-1),m-=1,E+=1,P+=1," ";if(V+P===((Gi=t[b])==null?void 0:Gi[1])){const B=t[b][0]-1;++b;for(let G=1;G<=B;G++)h.push(V-(m-G),m-G);m-=B,E+=B}return D}),h.push(d.length,m);const T=new Uint32Array(h.length>>1),N=new Int32Array(h.length>>1);for(let C=0,v=h.length;C<v;C+=2)T[C>>1]=h[C],N[C>>1]=h[C+1];return[d,[T,N],x]}function sr(a,e,t){if(!a)return[e,t];const[i,n]=a,s=e,r=e+t-1;let l=ai(i,m=>m>=s);i[l]>s&&--l;let d=ai(i,m=>m>=r,l);i[d]>r&&--d;const h=s+n[l],b=r+n[d]+1-h;return[h,b]}var U,xt,at,_,rr,Tn,Rn,ar,or,Nn,lr,dr,tn,Qt,wt,hr,Mn,Dn,nn,ur,kn,jn,Jt;class $a{constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){g(this,_);g(this,U,null);g(this,xt,!0);g(this,at,0);this._linkService=e,this._eventBus=t,c(this,xt,i),this.onIsPageVisible=null,u(this,_,Tn).call(this),t._on("find",u(this,_,rr).bind(this)),t._on("findbarclose",u(this,_,ur).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return o(this,U)}setDocument(e){this._pdfDocument&&u(this,_,Tn).call(this),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:n=-1}){if(!this._scrollMatches||!e)return;if(n===-1||n!==this._selected.matchIdx)return;if(i===-1||i!==this._selected.pageIdx)return;this._scrollMatches=!1,ir(e,{top:Oa,left:t},!0)}match(e,t,i){const n=this._hasDiacritics[i];let s=!1;if(typeof e=="string"?[s,e]=u(this,_,Nn).call(this,e,n):e=e.sort().reverse().map(b=>{const[m,E]=u(this,_,Nn).call(this,b,n);return s||(s=m),`(${E})`}).join("|"),!e)return;const{caseSensitive:r,entireWord:l}=o(this,U),d=`g${s?"u":""}${r?"":"i"}`;e=new RegExp(e,d);const h=[];let f;for(;(f=e.exec(t))!==null;)l&&!u(this,_,or).call(this,t,f.index,f[0].length)||h.push({index:f.index,length:f[0].length});return h}}U=new WeakMap,xt=new WeakMap,at=new WeakMap,_=new WeakSet,rr=function(e){if(!e)return;const t=this._pdfDocument,{type:i}=e;(o(this,U)===null||u(this,_,ar).call(this,e))&&(this._dirtyMatch=!0),c(this,U,e),i!=="highlightallchange"&&u(this,_,Jt).call(this,Ne.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;u(this,_,dr).call(this);const n=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?u(this,_,wt).call(this):i==="again"?(u(this,_,wt).call(this),n&&o(this,U).highlightAll&&u(this,_,Qt).call(this)):i==="highlightallchange"?(s?u(this,_,wt).call(this):this._highlightMatches=!0,u(this,_,Qt).call(this)):u(this,_,wt).call(this):this._findTimeout=setTimeout(()=>{u(this,_,wt).call(this),this._findTimeout=null},ja)})},Tn=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],c(this,at,0),c(this,U,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()},Rn=function(){const{query:e}=o(this,U);return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=en(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>en(t)[0])},ar=function(e){var r;const t=e.query,i=o(this,U).query,n=typeof t;if(n!==typeof i)return!0;if(n==="string"){if(t!==i)return!0}else if(JSON.stringify(t)!==JSON.stringify(i))return!0;switch(e.type){case"again":const l=this._selected.pageIdx+1,d=this._linkService;return l>=1&&l<=d.pagesCount&&l!==d.page&&!(((r=this.onIsPageVisible)==null?void 0:r.call(this,l))??!0);case"highlightallchange":return!1}return!0},or=function(e,t,i){let n=e.slice(0,t).match(Ba);if(n){const s=e.charCodeAt(t),r=n[1].charCodeAt(0);if(Zi(s)===Zi(r))return!1}if(n=e.slice(t+i).match(Ha),n){const s=e.charCodeAt(t+i-1),r=n[1].charCodeAt(0);if(Zi(s)===Zi(r))return!1}return!0},Nn=function(e,t){const{matchDiacritics:i}=o(this,U);let n=!1;e=e.replaceAll(Va,(r,l,d,h,f,b)=>l?`[ ]*\\${l}[ ]*`:d?`[ ]*${d}[ ]*`:h?"[ ]+":i?f||b:f?Cs.has(f.charCodeAt(0))?f:"":t?(n=!0,`${b}\\p{M}*`):b);const s="[ ]*";return e.endsWith(s)&&(e=e.slice(0,e.length-s.length)),i&&t&&(Ls||(Ls=String.fromCharCode(...Cs)),n=!0,e=`${e}(?=[${Ls}]|[^\\p{M}]|$)`),[n,e]},lr=function(e){if(!o(this,U))return;const t=o(this,_,Rn);if(t.length===0)return;const i=this._pageContents[e],n=this.match(t,i,e),s=this._pageMatches[e]=[],r=this._pageMatchesLength[e]=[],l=this._pageDiffs[e];n==null||n.forEach(({index:h,length:f})=>{const[b,m]=sr(l,h,f);m&&(s.push(b),r.push(m))}),o(this,U).highlightAll&&u(this,_,tn).call(this,e),this._resumePageIdx===e&&(this._resumePageIdx=null,u(this,_,Mn).call(this));const d=s.length;this._matchesCountTotal+=d,o(this,xt)?d>0&&u(this,_,jn).call(this):++vn(this,at)._===this._linkService.pagesCount&&u(this,_,jn).call(this)},dr=function(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();const t={disableNormalization:!0},i=this._pdfDocument;for(let n=0,s=this._linkService.pagesCount;n<s;n++){const{promise:r,resolve:l}=Promise.withResolvers();this._extractTextPromises[n]=r,e=e.then(async()=>{if(i!==this._pdfDocument){l();return}await i.getPage(n+1).then(d=>d.getTextContent(t)).then(d=>{const h=[];for(const f of d.items)h.push(f.str),f.hasEOL&&h.push(`
`);[this._pageContents[n],this._pageDiffs[n],this._hasDiacritics[n]]=en(h.join("")),l()},d=>{console.error(`Unable to get text content for page ${n+1}`,d),this._pageContents[n]="",this._pageDiffs[n]=null,this._hasDiacritics[n]=!1,l()})})}},tn=function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})},Qt=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},wt=function(){const e=o(this,U).findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,c(this,at,0),this._matchesCountTotal=0,u(this,_,Qt).call(this);for(let r=0;r<i;r++)this._pendingFindMatches.has(r)||(this._pendingFindMatches.add(r),this._extractTextPromises[r].then(()=>{this._pendingFindMatches.delete(r),u(this,_,lr).call(this,r)}))}if(o(this,_,Rn).length===0){u(this,_,Jt).call(this,Ne.FOUND);return}if(this._resumePageIdx)return;const s=this._offset;if(this._pagesToSearch=i,s.matchIdx!==null){const r=this._pageMatches[s.pageIdx].length;if(!e&&s.matchIdx+1<r||e&&s.matchIdx>0){s.matchIdx=e?s.matchIdx-1:s.matchIdx+1,u(this,_,nn).call(this,!0);return}u(this,_,Dn).call(this,e)}u(this,_,Mn).call(this)},hr=function(e){const t=this._offset,i=e.length,n=o(this,U).findPrevious;return i?(t.matchIdx=n?i-1:0,u(this,_,nn).call(this,!0),!0):(u(this,_,Dn).call(this,n),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(u(this,_,nn).call(this,!1),!0):!1)},Mn=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!u(this,_,hr).call(this,e))},Dn=function(e){const t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=i||t.pageIdx<0)&&(t.pageIdx=e?i-1:0,t.wrapped=!0)},nn=function(e=!1){let t=Ne.NOT_FOUND;const i=this._offset.wrapped;if(this._offset.wrapped=!1,e){const n=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=i?Ne.WRAPPED:Ne.FOUND,n!==-1&&n!==this._selected.pageIdx&&u(this,_,tn).call(this,n)}u(this,_,Jt).call(this,t,o(this,U).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,u(this,_,tn).call(this,this._selected.pageIdx))},ur=function(e){const t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),u(this,_,Jt).call(this,Ne.FOUND),this._highlightMatches=!1,u(this,_,Qt).call(this))})},kn=function(){var s;const{pageIdx:e,matchIdx:t}=this._selected;let i=0,n=this._matchesCountTotal;if(t!==-1){for(let r=0;r<e;r++)i+=((s=this._pageMatches[r])==null?void 0:s.length)||0;i+=t+1}return(i<1||i>n)&&(i=n=0),{current:i,total:n}},jn=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:u(this,_,kn).call(this)})},Jt=function(e,t=!1){var i,n;!o(this,xt)&&(o(this,at)!==this._linkService.pagesCount||e===Ne.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:((i=o(this,U))==null?void 0:i.entireWord)??null,matchesCount:u(this,_,kn).call(this),rawQuery:((n=o(this,U))==null?void 0:n.query)??null})};const za="noopener noreferrer nofollow",tt={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};class cr{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:n=!1}={}){Q(this,"externalLinkEnabled",!0);this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this._ignoreDestinationZoom=n,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}async goToDestination(e){if(!this.pdfDocument)return;let t,i,n;if(typeof e=="string"?(t=e,i=await this.pdfDocument.getDestination(e)):(t=null,i=await e),!Array.isArray(i)){console.error(`goToDestination: "${i}" is not a valid destination array, for dest="${e}".`);return}const[s]=i;if(s&&typeof s=="object"){if(n=this.pdfDocument.cachedPageNumber(s),!n)try{n=await this.pdfDocument.getPageIndex(s)+1}catch{console.error(`goToDestination: "${s}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(s)&&(n=s+1);if(!n||n<1||n>this.pagesCount){console.error(`goToDestination: "${n}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:i,pageNumber:n})),this.pdfViewer.scrollPageIntoView({pageNumber:n,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom});const r=new AbortController;this.eventBus._on("textlayerrendered",l=>{l.pageNumber===n&&(l.source.textLayer.div.focus(),r.abort())},{signal:r.signal})}goToPage(e){if(!this.pdfDocument)return;const t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}goToXY(e,t,i){this.pdfViewer.scrollPageIntoView({pageNumber:e,destArray:[null,{name:"XYZ"},t,i],ignoreDestinationZoom:!0})}addLinkAttributes(e,t,i=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');const n=i?tt.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let r="";switch(n){case tt.NONE:break;case tt.SELF:r="_self";break;case tt.BLANK:r="_blank";break;case tt.PARENT:r="_parent";break;case tt.TOP:r="_top";break}e.target=r,e.rel=typeof s=="string"?s:za}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,i;if(e.includes("=")){const n=wn(e);if(n.has("search")){const s=n.get("search").replaceAll('"',""),r=n.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:r?s:s.match(/\S+/g)})}if(n.has("page")&&(t=n.get("page")|0||1),n.has("zoom")){const s=n.get("zoom").split(","),r=s[0],l=parseFloat(r);r.includes("Fit")?r==="Fit"||r==="FitB"?i=[null,{name:r}]:r==="FitH"||r==="FitBH"||r==="FitV"||r==="FitBV"?i=[null,{name:r},s.length>1?s[1]|0:null]:r==="FitR"?s.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:r},s[1]|0,s[2]|0,s[3]|0,s[4]|0]:console.error(`PDFLinkService.setHash: "${r}" is not a valid zoom value.`):i=[null,{name:"XYZ"},s.length>1?s[1]|0:null,s.length>2?s[2]|0:null,l?l/100:r]}i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t),n.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:n.get("pagemode")}),n.has("nameddest")&&this.goToDestination(n.get("nameddest"));return}i=unescape(e);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}if(typeof i=="string"||da(i)){this.goToDestination(i);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){var t,i;if(this.pdfDocument){switch(e){case"GoBack":(t=this.pdfHistory)==null||t.back();break;case"GoForward":(i=this.pdfHistory)==null||i.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}async executeSetOCGState(e){if(!this.pdfDocument)return;const t=this.pdfDocument,i=await this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(i.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i))}}class ms extends cr{setDocument(e,t=null){}}var Oe,li,di,Fe,hi,pe,On,Fn,gr;class fr{constructor({pdfPage:e,linkService:t,downloadManager:i,annotationStorage:n=null,imageResourcesPath:s="",renderForms:r=!0,enableComment:l=!1,enableScripting:d=!1,hasJSActionsPromise:h=null,fieldObjectsPromise:f=null,annotationCanvasMap:b=null,accessibilityManager:m=null,annotationEditorUIManager:E=null,onAppend:P=null}){g(this,pe);g(this,Oe,null);g(this,li,!1);g(this,di,null);g(this,Fe,null);g(this,hi,!1);this.pdfPage=e,this.linkService=t,this.downloadManager=i,this.imageResourcesPath=s,this.renderForms=r,this.annotationStorage=n,this.enableComment=l,this.enableScripting=d,this._hasJSActionsPromise=h||Promise.resolve(!1),this._fieldObjectsPromise=f||Promise.resolve(null),this._annotationCanvasMap=b,this._accessibilityManager=m,this._annotationEditorUIManager=E,c(this,di,P),this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}async render({viewport:e,intent:t="display",structTreeLayer:i=null}){var d,h;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}const[n,s,r]=await Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const l=this.div=document.createElement("div");if(l.className="annotationLayer",(d=o(this,di))==null||d.call(this,l),n.length===0){c(this,Oe,n),this.hide(!0);return}u(this,pe,On).call(this,e,i),await this.annotationLayer.render({annotations:n,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableComment:this.enableComment,enableScripting:this.enableScripting,hasJSActions:s,fieldObjects:r}),c(this,Oe,n),this.linkService.isInPresentationMode&&u(this,pe,Fn).call(this,yt.FULLSCREEN),o(this,Fe)||(c(this,Fe,new AbortController),(h=this._eventBus)==null||h._on("presentationmodechanged",f=>{u(this,pe,Fn).call(this,f.state)},{signal:o(this,Fe).signal}))}cancel(){var e;this._cancelled=!0,(e=o(this,Fe))==null||e.abort(),c(this,Fe,null)}hide(e=!1){c(this,li,!e),this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){var e;return!!((e=this.annotationLayer)!=null&&e.hasEditableAnnotations())}async injectLinkAnnotations({inferredLinks:e,viewport:t,structTreeLayer:i=null}){if(o(this,Oe)===null)throw new Error("`render` method must be called before `injectLinkAnnotations`.");if(this._cancelled||o(this,hi))return;c(this,hi,!0);const n=o(this,Oe).length?u(this,pe,gr).call(this,e):e;n.length&&(this.annotationLayer||(u(this,pe,On).call(this,t,i),er(this.div,t)),await this.annotationLayer.addLinkAnnotations(n,this.linkService),o(this,li)||(this.div.hidden=!1))}}Oe=new WeakMap,li=new WeakMap,di=new WeakMap,Fe=new WeakMap,hi=new WeakMap,pe=new WeakSet,On=function(e,t){this.annotationLayer=new sa({div:this.div,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,page:this.pdfPage,viewport:e.clone({dontFlip:!0}),structTreeLayer:t})},Fn=function(e){if(!this.div)return;let t=!1;switch(e){case yt.FULLSCREEN:t=!0;break;case yt.NORMAL:break;default:return}for(const i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=t)},gr=function(e){function t(s){if(!s.quadPoints)return[s.rect];const r=[];for(let l=2,d=s.quadPoints.length;l<d;l+=8){const h=s.quadPoints[l],f=s.quadPoints[l+1],b=s.quadPoints[l+2],m=s.quadPoints[l+3];r.push([b,m,h,f])}return r}function i(s,r){const l=[],d=t(s),h=t(r);for(const f of d)for(const b of h){const m=ps.intersect(f,b);m&&l.push(m)}return l}function n(s){let r=0;for(const l of s)r+=Math.abs((l[2]-l[0])*(l[3]-l[1]));return r}return e.filter(s=>{let r;for(const l of o(this,Oe)){if(l.annotationType!==Js.LINK||!l.url)continue;const d=i(l,s);if(d.length!==0&&(r??(r=n(t(s))),n(d)/r>.5))return!1}return!0})};function Ns(a,e){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=a,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var fs;class Ga{constructor(){g(this,fs,new WeakMap)}downloadData(e,t,i){const n=URL.createObjectURL(new Blob([e],{type:i}));Ns(n,t)}openOrDownloadData(e,t,i=null){const s=la(t)?"application/pdf":"";return this.downloadData(e,t,s),!1}download(e,t,i){let n;if(e)n=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!qs(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}n=t+"#pdfjs.action=download"}Ns(n,i)}}fs=new WeakMap;const Ms={EVENT:"event",TIMEOUT:"timeout"};async function Xa({target:a,name:e,delay:t=0}){if(typeof a!="object"||!(e&&typeof e=="string")||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:i,resolve:n}=Promise.withResolvers(),s=new AbortController;function r(h){s.abort(),clearTimeout(d),n(h)}const l=a instanceof pr?"_on":"addEventListener";a[l](e,r.bind(null,Ms.EVENT),{signal:s.signal});const d=setTimeout(r.bind(null,Ms.TIMEOUT),t);return i}var St;class pr{constructor(){g(this,St,Object.create(null))}on(e,t,i=null){this._on(e,t,{external:!0,once:i==null?void 0:i.once,signal:i==null?void 0:i.signal})}off(e,t,i=null){this._off(e,t)}dispatch(e,t){const i=o(this,St)[e];if(!i||i.length===0)return;let n;for(const{listener:s,external:r,once:l}of i.slice(0)){if(l&&this._off(e,s),r){(n||(n=[])).push(s);continue}s(t)}if(n){for(const s of n)s(t);n=null}}_on(e,t,i=null){var r;let n=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:l}=i;if(l.aborted){console.error("Cannot use an `aborted` signal.");return}const d=()=>this._off(e,t);n=()=>l.removeEventListener("abort",d),l.addEventListener("abort",d)}((r=o(this,St))[e]||(r[e]=[])).push({listener:t,external:(i==null?void 0:i.external)===!0,once:(i==null?void 0:i.once)===!0,rmAbort:n})}_off(e,t,i=null){var s;const n=o(this,St)[e];if(n)for(let r=0,l=n.length;r<l;r++){const d=n[r];if(d.listener===t){(s=d.rmAbort)==null||s.call(d),n.splice(r,1);return}}}}St=new WeakMap;class Pt{constructor(e){this.value=e}valueOf(){return this.value}}class H extends Pt{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class Re extends Pt{constructor(e,t={}){super(e),this.opts=t}toString(e){if(e)try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return this.value.toString(10)}}class et extends Pt{static supportsValue(e){if(typeof e=="number"||e instanceof Date)return!0;if(e instanceof Pt)return et.supportsValue(e.valueOf());if("Temporal"in globalThis){const t=globalThis.Temporal;if(e instanceof t.Instant||e instanceof t.PlainDateTime||e instanceof t.PlainDate||e instanceof t.PlainMonthDay||e instanceof t.PlainTime||e instanceof t.PlainYearMonth)return!0}return!1}constructor(e,t={}){e instanceof et?(t={...e.opts,...t},e=e.value):e instanceof Pt&&(e=e.valueOf()),typeof e=="object"&&"calendarId"in e&&t.calendar===void 0&&(t={...t,calendar:e.calendarId}),super(e),this.opts=t}[Symbol.toPrimitive](e){return e==="string"?this.toString():this.toNumber()}toNumber(){const e=this.value;if(typeof e=="number")return e;if(e instanceof Date)return e.getTime();if("epochMilliseconds"in e)return e.epochMilliseconds;if("toZonedDateTime"in e)return e.toZonedDateTime("UTC").epochMilliseconds;throw new TypeError("Unwrapping a non-number value as a number")}toString(e){if(e)try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return typeof this.value=="number"||this.value instanceof Date?new Date(this.value).toISOString():this.value.toString()}}const Ds=100,Ka="⁨",Ya="⁩";function Za(a,e,t){if(t===e||t instanceof Re&&e instanceof Re&&t.value===e.value)return!0;if(e instanceof Re&&typeof t=="string"){let i=a.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===i)return!0}return!1}function ks(a,e,t){return e[t]?Gt(a,e[t].value):(a.reportError(new RangeError("No default")),new H)}function Vn(a,e){const t=[],i=Object.create(null);for(const n of e)n.type==="narg"?i[n.name]=oi(a,n.value):t.push(oi(a,n));return{positional:t,named:i}}function oi(a,e){switch(e.type){case"str":return e.value;case"num":return new Re(e.value,{minimumFractionDigits:e.precision});case"var":return Qa(a,e);case"mesg":return Ja(a,e);case"term":return qa(a,e);case"func":return eo(a,e);case"select":return to(a,e);default:return new H}}function Qa(a,{name:e}){let t;if(a.params)if(Object.prototype.hasOwnProperty.call(a.params,e))t=a.params[e];else return new H(`$${e}`);else if(a.args&&Object.prototype.hasOwnProperty.call(a.args,e))t=a.args[e];else return a.reportError(new ReferenceError(`Unknown variable: $${e}`)),new H(`$${e}`);if(t instanceof Pt)return t;switch(typeof t){case"string":return t;case"number":return new Re(t);case"object":if(et.supportsValue(t))return new et(t);default:return a.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new H(`$${e}`)}}function Ja(a,{name:e,attr:t}){const i=a.bundle._messages.get(e);if(!i)return a.reportError(new ReferenceError(`Unknown message: ${e}`)),new H(e);if(t){const n=i.attributes[t];return n?Gt(a,n):(a.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new H(`${e}.${t}`))}return i.value?Gt(a,i.value):(a.reportError(new ReferenceError(`No value: ${e}`)),new H(e))}function qa(a,{name:e,attr:t,args:i}){const n=`-${e}`,s=a.bundle._terms.get(n);if(!s)return a.reportError(new ReferenceError(`Unknown term: ${n}`)),new H(n);if(t){const l=s.attributes[t];if(l){a.params=Vn(a,i).named;const d=Gt(a,l);return a.params=null,d}return a.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new H(`${n}.${t}`)}a.params=Vn(a,i).named;const r=Gt(a,s.value);return a.params=null,r}function eo(a,{name:e,args:t}){let i=a.bundle._functions[e];if(!i)return a.reportError(new ReferenceError(`Unknown function: ${e}()`)),new H(`${e}()`);if(typeof i!="function")return a.reportError(new TypeError(`Function ${e}() is not callable`)),new H(`${e}()`);try{let n=Vn(a,t);return i(n.positional,n.named)}catch(n){return a.reportError(n),new H(`${e}()`)}}function to(a,{selector:e,variants:t,star:i}){let n=oi(a,e);if(n instanceof H)return ks(a,t,i);for(const s of t){const r=oi(a,s.key);if(Za(a,n,r))return Gt(a,s.value)}return ks(a,t,i)}function mr(a,e){if(a.dirty.has(e))return a.reportError(new RangeError("Cyclic reference")),new H;a.dirty.add(e);const t=[],i=a.bundle._useIsolating&&e.length>1;for(const n of e){if(typeof n=="string"){t.push(a.bundle._transform(n));continue}if(a.placeables++,a.placeables>Ds)throw a.dirty.delete(e),new RangeError(`Too many placeables expanded: ${a.placeables}, max allowed is ${Ds}`);i&&t.push(Ka),t.push(oi(a,n).toString(a)),i&&t.push(Ya)}return a.dirty.delete(e),t.join("")}function Gt(a,e){return typeof e=="string"?a.bundle._transform(e):mr(a,e)}class io{constructor(e,t,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=i}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let i=this.bundle._intls.get(e);i||(i={},this.bundle._intls.set(e,i));let n=JSON.stringify(t);return i[n]||(i[n]=new e(this.bundle.locales,t)),i[n]}}function Bn(a,e){const t=Object.create(null);for(const[i,n]of Object.entries(a))e.includes(i)&&(t[i]=n.valueOf());return t}const js=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function no(a,e){let t=a[0];if(t instanceof H)return new H(`NUMBER(${t.valueOf()})`);if(t instanceof Re)return new Re(t.valueOf(),{...t.opts,...Bn(e,js)});if(t instanceof et)return new Re(t.toNumber(),{...Bn(e,js)});throw new TypeError("Invalid argument to NUMBER")}const so=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function ro(a,e){let t=a[0];if(t instanceof H)return new H(`DATETIME(${t.valueOf()})`);if(t instanceof et||t instanceof Re)return new et(t,Bn(e,so));throw new TypeError("Invalid argument to DATETIME")}const Os=new Map;function ao(a){const e=Array.isArray(a)?a.join(" "):a;let t=Os.get(e);return t===void 0&&(t=new Map,Os.set(e,t)),t}class oo{constructor(e,{functions:t,useIsolating:i=!0,transform:n=s=>s}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:no,DATETIME:ro,...t},this._useIsolating=i,this._transform=n,this._intls=ao(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const i=[];for(let n=0;n<e.body.length;n++){let s=e.body[n];if(s.id.startsWith("-")){if(t===!1&&this._terms.has(s.id)){i.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(t===!1&&this._messages.has(s.id)){i.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return i}formatPattern(e,t=null,i=null){if(typeof e=="string")return this._transform(e);let n=new io(this,i,t);try{return mr(n,e).toString(n)}catch(s){if(n.errors&&s instanceof Error)return n.errors.push(s),new H().toString(n);throw s}}}const Sn=/^(-?[a-zA-Z][\w-]*) *= */gm,Fs=/\.([a-zA-Z][\w-]*) *= */y,lo=/\*?\[/y,In=/(-?[0-9]+(?:\.([0-9]+))?)/y,ho=/([a-zA-Z][\w-]*)/y,Vs=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,uo=/^[A-Z][A-Z0-9_-]*$/,Qi=/([^{}\n\r]+)/y,co=/([^\\"\n\r]*)/y,Bs=/\\([\\"])/y,Hs=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,fo=/^\n+/,Us=/ +$/,go=/ *\r?\n/g,po=/( *)$/,mo=/{\s*/y,Ws=/\s*}/y,bo=/\[\s*/y,wo=/\s*] */y,Eo=/\s*\(\s*/y,vo=/\s*->\s*/y,yo=/\s*:\s*/y,Po=/\s*,?\s*/y,_o=/\s+/y;class xo{constructor(e){this.body=[],Sn.lastIndex=0;let t=0;for(;;){let w=Sn.exec(e);if(w===null)break;t=Sn.lastIndex;try{this.body.push(d(w[1]))}catch(y){if(y instanceof SyntaxError)continue;throw y}}function i(w){return w.lastIndex=t,w.test(e)}function n(w,y){if(e[t]===w)return t++,!0;if(y)throw new y(`Expected ${w}`);return!1}function s(w,y){if(i(w))return t=w.lastIndex,!0;if(y)throw new y(`Expected ${w.toString()}`);return!1}function r(w){w.lastIndex=t;let y=w.exec(e);if(y===null)throw new SyntaxError(`Expected ${w.toString()}`);return t=w.lastIndex,y}function l(w){return r(w)[1]}function d(w){let y=f(),D=h();if(y===null&&Object.keys(D).length===0)throw new SyntaxError("Expected message value or attributes");return{id:w,value:y,attributes:D}}function h(){let w=Object.create(null);for(;i(Fs);){let y=l(Fs),D=f();if(D===null)throw new SyntaxError("Expected attribute value");w[y]=D}return w}function f(){let w;if(i(Qi)&&(w=l(Qi)),e[t]==="{"||e[t]==="}")return b(w?[w]:[],1/0);let y=k();return y?w?b([w,y],y.length):(y.value=O(y.value,fo),b([y],y.length)):w?O(w,Us):null}function b(w=[],y){for(;;){if(i(Qi)){w.push(l(Qi));continue}if(e[t]==="{"){w.push(m());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let $=k();if($){w.push($),y=Math.min(y,$.length);continue}break}let D=w.length-1,V=w[D];typeof V=="string"&&(w[D]=O(V,Us));let Y=[];for(let $ of w)$ instanceof $s&&($=$.value.slice(0,$.value.length-y)),$&&Y.push($);return Y}function m(){s(mo,SyntaxError);let w=E();if(s(Ws))return w;if(s(vo)){let y=T();return s(Ws,SyntaxError),{type:"select",selector:w,...y}}throw new SyntaxError("Unclosed placeable")}function E(){if(e[t]==="{")return m();if(i(Vs)){let[,w,y,D=null]=r(Vs);if(w==="$")return{type:"var",name:y};if(s(Eo)){let V=P();if(w==="-")return{type:"term",name:y,attr:D,args:V};if(uo.test(y))return{type:"func",name:y,args:V};throw new SyntaxError("Function names must be all upper-case")}return w==="-"?{type:"term",name:y,attr:D,args:[]}:{type:"mesg",name:y,attr:D}}return C()}function P(){let w=[];for(;;){switch(e[t]){case")":return t++,w;case void 0:throw new SyntaxError("Unclosed argument list")}w.push(x()),s(Po)}}function x(){let w=E();return w.type!=="mesg"?w:s(yo)?{type:"narg",name:w.name,value:C()}:w}function T(){let w=[],y=0,D;for(;i(lo);){n("*")&&(D=y);let V=N(),Y=f();if(Y===null)throw new SyntaxError("Expected variant value");w[y++]={key:V,value:Y}}if(y===0)return null;if(D===void 0)throw new SyntaxError("Expected default variant");return{variants:w,star:D}}function N(){s(bo,SyntaxError);let w;return i(In)?w=v():w={type:"str",value:l(ho)},s(wo,SyntaxError),w}function C(){if(i(In))return v();if(e[t]==='"')return S();throw new SyntaxError("Invalid expression")}function v(){let[,w,y=""]=r(In),D=y.length;return{type:"num",value:parseFloat(w),precision:D}}function S(){n('"',SyntaxError);let w="";for(;;){if(w+=l(co),e[t]==="\\"){w+=M();continue}if(n('"'))return{type:"str",value:w};throw new SyntaxError("Unclosed string literal")}}function M(){if(i(Bs))return l(Bs);if(i(Hs)){let[,w,y]=r(Hs),D=parseInt(w||y,16);return D<=55295||57344<=D?String.fromCodePoint(D):"�"}throw new SyntaxError("Unknown escape sequence")}function k(){let w=t;switch(s(_o),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return A(e.slice(w,t))}return e[t-1]===" "?A(e.slice(w,t)):!1}function O(w,y){return w.replace(y,"")}function A(w){let y=w.replace(go,`
`),D=po.exec(w)[1].length;return new $s(y,D)}}}class $s{constructor(e,t){this.value=e,this.length=t}}const So=/<|&#?\w+;/,Io={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},Ao={"http://www.w3.org/1999/xhtml":{global:["title","aria-description","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function Co(a,e){const{value:t}=e;if(typeof t=="string")if(a.localName==="title"&&a.namespaceURI==="http://www.w3.org/1999/xhtml")a.textContent=t;else if(!So.test(t))a.textContent=t;else{const i=a.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=t,Lo(i.content,a)}br(e,a)}function Lo(a,e){for(const t of a.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){const i=Ro(e,t);a.replaceChild(i,t);continue}if(Mo(t)){const i=No(t);a.replaceChild(i,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),a.replaceChild(Hn(t),t)}e.textContent="",e.appendChild(a)}function To(a,e){if(!a)return!1;for(let t of a)if(t.name===e)return!0;return!1}function br(a,e){const t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(const i of Array.from(e.attributes))zs(i.name,e,t)&&!To(a.attributes,i.name)&&e.removeAttribute(i.name);if(a.attributes)for(const i of Array.from(a.attributes))zs(i.name,e,t)&&e.getAttribute(i.name)!==i.value&&e.setAttribute(i.name,i.value)}function Ro(a,e){const t=e.getAttribute("data-l10n-name"),i=a.querySelector(`[data-l10n-name="${t}"]`);if(!i)return console.warn(`An element named "${t}" wasn't found in the source.`),Hn(e);if(i.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${i.localName}).`),Hn(e);a.removeChild(i);const n=i.cloneNode(!1);return wr(e,n)}function No(a){const e=a.ownerDocument.createElement(a.localName);return wr(a,e)}function Hn(a){return a.ownerDocument.createTextNode(a.textContent)}function Mo(a){const e=Io[a.namespaceURI];return e&&e.includes(a.localName)}function zs(a,e,t=null){if(t&&t.includes(a))return!0;const i=Ao[e.namespaceURI];if(!i)return!1;const n=a.toLowerCase(),s=e.localName;if(i.global.includes(n))return!0;if(!i[s])return!1;if(i[s].includes(n))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&s==="input"&&n==="value"){const r=e.type.toLowerCase();if(r==="submit"||r==="button"||r==="reset")return!0}return!1}function wr(a,e){return e.textContent=a.textContent,br(a,e),e}class Do extends Array{static from(e){return e instanceof this?e:new this(e)}}class ko extends Do{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){const e=this;let t=0;return{async next(){return e.length<=t&&e.push(e.iterator.next()),e[t++]}}}async touchNext(e=1){let t=0;for(;t++<e;){const i=this[this.length-1];if(i&&(await i).done)break;this.push(this.iterator.next())}return this[this.length-1]}}class jo{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}async formatWithFallback(e,t){const i=[];let n=!1;for await(const s of this.bundles){n=!0;const r=Vo(t,s,e,i);if(r.size===0)break;if(typeof console<"u"){const l=s.locales[0],d=Array.from(r).join(", ");console.warn(`[fluent] Missing translations in ${l}: ${d}`)}}return!n&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),i}formatMessages(e){return this.formatWithFallback(e,Fo)}formatValues(e){return this.formatWithFallback(e,Oo)}async formatValue(e,t){const[i]=await this.formatValues([{id:e,args:t}]);return i}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=ko.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function Oo(a,e,t,i){return t.value?a.formatPattern(t.value,i,e):null}function Fo(a,e,t,i){const n={value:null,attributes:null};t.value&&(n.value=a.formatPattern(t.value,i,e));let s=Object.keys(t.attributes);if(s.length>0){n.attributes=new Array(s.length);for(let[r,l]of s.entries()){let d=a.formatPattern(t.attributes[l],i,e);n.attributes[r]={name:l,value:d}}}return n}function Vo(a,e,t,i){const n=[],s=new Set;return t.forEach(({id:r,args:l},d)=>{if(i[d]!==void 0)return;let h=e.getMessage(r);if(h){if(n.length=0,i[d]=a(e,n,h,l),n.length>0&&typeof console<"u"){const f=e.locales[0],b=n.join(", ");console.warn(`[fluent][resolver] errors in ${f}/${r}: ${b}.`)}}else s.add(r)}),s}const it="data-l10n-id",Zt="data-l10n-args",Bo=`[${it}]`;class Ho extends jo{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[it,Zt]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,i){return e.setAttribute(it,t),i?e.setAttribute(Zt,JSON.stringify(i)):e.removeAttribute(Zt),e}getAttributes(e){return{id:e.getAttribute(it),args:JSON.parse(e.getAttribute(Zt)||null)}}connectRoot(e){for(const t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(const t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(const i of t.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(const n of this.getTranslatables(i))this.pendingElements.add(n);else i.hasAttribute(it)&&this.pendingElements.add(i);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}async translateElements(e){if(!e.length)return;const t=e.map(this.getKeysForElement),i=await this.formatMessages(t);return this.applyTranslations(e,i)}applyTranslations(e,t){this.pauseObserving();for(let i=0;i<e.length;i++)t[i]!==void 0&&Co(e[i],t[i]);this.resumeObserving()}getTranslatables(e){const t=Array.from(e.querySelectorAll(Bo));return typeof e.hasAttribute=="function"&&e.hasAttribute(it)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(it),args:JSON.parse(e.getAttribute(Zt)||null)}}}var ui,Ve,It,q,Kt,Er,vr;const ri=class ri{constructor({lang:e,isRTL:t},i=null){g(this,ui);g(this,Ve);g(this,It);g(this,q);var n,s;c(this,It,u(n=ri,Kt,Er).call(n,e)),c(this,q,i),c(this,ui,t??u(s=ri,Kt,vr).call(s,o(this,It))?"rtl":"ltr")}_setL10n(e){c(this,q,e)}getLanguage(){return o(this,It)}getDirection(){return o(this,ui)}async get(e,t=null,i){var s;return Array.isArray(e)?(e=e.map(l=>({id:l})),(await o(this,q).formatMessages(e)).map(l=>l.value)):((s=(await o(this,q).formatMessages([{id:e,args:t}]))[0])==null?void 0:s.value)||i}async translate(e){(o(this,Ve)||c(this,Ve,new Set)).add(e);try{o(this,q).connectRoot(e),await o(this,q).translateRoots()}catch{}}async translateOnce(e){try{await o(this,q).translateElements([e])}catch(t){console.error("translateOnce:",t)}}async destroy(){if(o(this,Ve)){for(const e of o(this,Ve))o(this,q).disconnectRoot(e);o(this,Ve).clear(),c(this,Ve,null)}o(this,q).pauseObserving()}pause(){o(this,q).pauseObserving()}resume(){o(this,q).resumeObserving()}};ui=new WeakMap,Ve=new WeakMap,It=new WeakMap,q=new WeakMap,Kt=new WeakSet,Er=function(e){return e=(e==null?void 0:e.toLowerCase())||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e},vr=function(e){const t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)},g(ri,Kt);let Un=ri;function Uo(){const{isAndroid:a,isLinux:e,isMac:t,isWindows:i}=aa.platform;return e?"linux":i?"windows":t?"macos":a?"android":"other"}function Gs(a,e){const t=new xo(e),i=new oo(a,{functions:{PLATFORM:Uo}}),n=i.addResource(t);return n.length&&console.error("L10n errors",n),i}var ie,yr,Pr,_r,xr,Wn;const nt=class nt extends Un{constructor(e){super({lang:e});const t=e?u(nt,ie,yr).bind(nt,"en-us",this.getLanguage()):u(nt,ie,xr).bind(nt,this.getLanguage());this._setL10n(new Ho([],t))}};ie=new WeakSet,yr=async function*(e,t){const{baseURL:i,paths:n}=await u(this,ie,_r).call(this),s=[t];if(e!==t){const l=t.split("-",1)[0];l!==t&&s.push(l),s.push(e)}const r=s.map(l=>[l,u(this,ie,Pr).call(this,l,i,n)]);for(const[l,d]of r){const h=await d;h?yield h:l==="en-us"&&(yield u(this,ie,Wn).call(this,l))}},Pr=async function(e,t,i){const n=i[e];if(!n)return null;const s=new URL(n,t),r=await ws(s,"text");return Gs(e,r)},_r=async function(){try{const{href:e}=document.querySelector('link[type="application/l10n"]'),t=await ws(e,"json");return{baseURL:e.substring(0,e.lastIndexOf("/")+1)||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}},xr=async function*(e){yield u(this,ie,Wn).call(this,e)},Wn=async function(e){return Gs(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties…
pdfjs-document-properties-button-label = Document Properties…
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width } × { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width } × { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing…
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document…
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-color-picker-free-text-input =
    .title = Change text color
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-color-picker-ink-input =
    .title = Change drawing color
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-comment-floating-button =
    .title = Comment
    .aria-label = Comment
pdfjs-comment-floating-button-label = Comment
pdfjs-editor-comment-button =
    .title = Comment
    .aria-label = Comment
pdfjs-editor-comment-button-label = Comment
pdfjs-editor-signature-button =
    .title = Add signature
pdfjs-editor-signature-button-label = Add signature
pdfjs-editor-highlight-editor =
    .aria-label = Highlight editor
pdfjs-editor-ink-editor =
    .aria-label = Drawing editor
pdfjs-editor-signature-editor1 =
    .aria-description = Signature editor: { $description }
pdfjs-editor-stamp-editor =
    .aria-label = Image editor
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-remove-signature-button =
    .title = Remove signature
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-editor-add-signature-container =
    .aria-label = Signature controls and saved signatures
pdfjs-editor-signature-add-signature-button =
    .title = Add new signature
pdfjs-editor-signature-add-signature-button-label = Add new signature
pdfjs-editor-add-saved-signature-button =
    .title = Saved signature: { $description }
pdfjs-free-text2 =
    .aria-label = Text Editor
    .default-content = Start typing…
pdfjs-editor-comments-sidebar-title =
    { $count ->
        [one] Comment
       *[other] Comments
    }
pdfjs-editor-comments-sidebar-close-button =
    .title = Close the sidebar
    .aria-label = Close the sidebar
pdfjs-editor-comments-sidebar-close-button-label = Close the sidebar
pdfjs-editor-comments-sidebar-no-comments = Add a comment by selecting text or an annotation.
pdfjs-editor-alt-text-button =
    .aria-label = Alt text
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button =
    .aria-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can’t see the image or when it doesn’t load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, “A young man sits down at a table to eat a meal”
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner — resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle — resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner — resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right — resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner — resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle — resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner — resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left — resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here…
pdfjs-editor-new-alt-text-description = Short description for people who can’t see the image or when the image doesn’t load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldn’t create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button =
    .aria-label = Alt text added
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button =
    .aria-label = Missing alt text
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button =
    .aria-label = Review alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who can’t see the image or when the image doesn’t load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading…
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close
pdfjs-editor-highlight-added-alert = Highlight added
pdfjs-editor-freetext-added-alert = Text added
pdfjs-editor-ink-added-alert = Drawing added
pdfjs-editor-stamp-added-alert = Image added
pdfjs-editor-signature-added-alert = Signature added
pdfjs-editor-undo-bar-message-highlight = Highlight removed
pdfjs-editor-undo-bar-message-freetext = Text removed
pdfjs-editor-undo-bar-message-ink = Drawing removed
pdfjs-editor-undo-bar-message-stamp = Image removed
pdfjs-editor-undo-bar-message-signature = Signature removed
pdfjs-editor-undo-bar-message-multiple =
    { $count ->
        [one] { $count } annotation removed
       *[other] { $count } annotations removed
    }
pdfjs-editor-undo-bar-undo-button =
    .title = Undo
pdfjs-editor-undo-bar-undo-button-label = Undo
pdfjs-editor-undo-bar-close-button =
    .title = Close
pdfjs-editor-undo-bar-close-button-label = Close
pdfjs-editor-add-signature-dialog-label = This modal allows the user to create a signature to add to a PDF document. The user can edit the name (which also serves as the alt text), and optionally save the signature for repeated use.
pdfjs-editor-add-signature-dialog-title = Add a signature
pdfjs-editor-add-signature-type-button = Type
    .title = Type
pdfjs-editor-add-signature-draw-button = Draw
    .title = Draw
pdfjs-editor-add-signature-image-button = Image
    .title = Image
pdfjs-editor-add-signature-type-input =
    .aria-label = Type your signature
    .placeholder = Type your signature
pdfjs-editor-add-signature-draw-placeholder = Draw your signature
pdfjs-editor-add-signature-draw-thickness-range-label = Thickness
pdfjs-editor-add-signature-draw-thickness-range =
    .title = Drawing thickness: { $thickness }
pdfjs-editor-add-signature-image-placeholder = Drag a file here to upload
pdfjs-editor-add-signature-image-browse-link =
    { PLATFORM() ->
        [macos] Or choose image files
       *[other] Or browse image files
    }
pdfjs-editor-add-signature-description-label = Description (alt text)
pdfjs-editor-add-signature-description-input =
    .title = Description (alt text)
pdfjs-editor-add-signature-description-default-when-drawing = Signature
pdfjs-editor-add-signature-clear-button-label = Clear signature
pdfjs-editor-add-signature-clear-button =
    .title = Clear signature
pdfjs-editor-add-signature-save-checkbox = Save signature
pdfjs-editor-add-signature-save-warning-message = You’ve reached the limit of 5 saved signatures. Remove one to save more.
pdfjs-editor-add-signature-image-upload-error-title = Couldn’t upload image
pdfjs-editor-add-signature-image-upload-error-description = Check your network connection or try another image.
pdfjs-editor-add-signature-image-no-data-error-title = Can’t convert this image into a signature
pdfjs-editor-add-signature-image-no-data-error-description = Please try uploading a different image.
pdfjs-editor-add-signature-error-close-button = Close
pdfjs-editor-add-signature-cancel-button = Cancel
pdfjs-editor-add-signature-add-button = Add
pdfjs-editor-delete-signature-button1 =
    .title = Remove saved signature
pdfjs-editor-delete-signature-button-label1 = Remove saved signature
pdfjs-editor-add-signature-edit-button-label = Edit description
pdfjs-editor-edit-signature-dialog-title = Edit description
pdfjs-editor-edit-signature-update-button = Update
pdfjs-editor-edit-comment-actions-button-label = Actions
pdfjs-editor-edit-comment-actions-button =
    .title = Actions
pdfjs-editor-edit-comment-close-button-label = Close
pdfjs-editor-edit-comment-close-button =
    .title = Close
pdfjs-editor-edit-comment-actions-edit-button-label = Edit
pdfjs-editor-edit-comment-actions-delete-button-label = Delete
pdfjs-editor-edit-comment-manager-text-input =
    .placeholder = Enter your comment
pdfjs-editor-edit-comment-manager-cancel-button = Cancel
pdfjs-editor-edit-comment-manager-save-button = Save
pdfjs-editor-edit-comment-button =
    .title = Edit comment`)},g(nt,ie);let Xt=nt;const Wo=1e3,$o=50,zo=1e3;function An(){return document.location.hash}var Be,L,be,sn,rn,qt,an,$n,Sr,Ir,zn,Ar,Cr;class Go{constructor({linkService:e,eventBus:t}){g(this,L);g(this,Be,null);this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:i=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const n=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=i===!0,this._initialized=!0,u(this,L,Ar).call(this);const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=An(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!u(this,L,qt).call(this,s,!0)||t){const{hash:l,page:d,rotation:h}=u(this,L,$n).call(this,!0);if(!l||n||t){u(this,L,be).call(this,null,!0);return}u(this,L,be).call(this,{hash:l,page:d,rotation:h},!0);return}const r=s.destination;u(this,L,an).call(this,r,s.uid,!0),r.rotation!==void 0&&(this._initialRotation=r.rotation),r.dest?(this._initialBookmark=JSON.stringify(r.dest),this._destination.page=null):r.hash?this._initialBookmark=r.hash:r.page&&(this._initialBookmark=`page=${r.page}`)}reset(){this._initialized&&(u(this,L,zn).call(this),this._initialized=!1,u(this,L,Cr).call(this)),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:i}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!u(this,L,rn).call(this,i)&&(i!==null||this._destination)){console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}const n=e||JSON.stringify(t);if(!n)return;let s=!1;if(this._destination&&(Xo(this._destination.hash,n)||Ko(this._destination.dest,t))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(u(this,L,be).call(this,{dest:t,hash:n,page:i,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var t;if(this._initialized){if(!u(this,L,rn).call(this,e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}((t=this._destination)==null?void 0:t.page)!==e&&(this._popStateInProgress||(u(this,L,be).call(this,{dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||u(this,L,sn).call(this)}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;u(this,L,qt).call(this,e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;u(this,L,qt).call(this,e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}}Be=new WeakMap,L=new WeakSet,be=function(e,t=!1){const i=t||!this._destination,n={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:e};u(this,L,an).call(this,e,n.uid);let s;if(this._updateUrl&&(e!=null&&e.hash)){const{href:r,protocol:l}=document.location;l!=="file:"&&(s=ca(r,e.hash))}i?window.history.replaceState(n,"",s):window.history.pushState(n,"",s)},sn=function(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){u(this,L,be).call(this,t);return}if(this._destination.temporary){u(this,L,be).call(this,t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&this._numPositionUpdates<=$o)return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;i=!0}u(this,L,be).call(this,t,i)},rn=function(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount},qt=function(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;const[i]=performance.getEntriesByType("navigation");if((i==null?void 0:i.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")},an=function(e,t,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&(e!=null&&e.temporary)&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0},$n=function(e=!1){const t=unescape(An()).substring(1),i=wn(t),n=i.get("nameddest")||"";let s=i.get("page")|0;return(!u(this,L,rn).call(this,s)||e&&n.length>0)&&(s=null),{hash:t,page:s,rotation:this.linkService.rotation}},Sr=function({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||u(this,L,sn).call(this,!0),this._updateViewareaTimeout=null},zo))},Ir=function({state:e}){const t=An(),i=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:s,page:r,rotation:l}=u(this,L,$n).call(this);u(this,L,be).call(this,{hash:s,page:r,rotation:l},!0);return}if(!u(this,L,qt).call(this,e))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,Xa({target:window,name:"hashchange",delay:Wo}).then(()=>{this._blockHashChange--}));const n=e.destination;u(this,L,an).call(this,n,e.uid,!0),nr(n.rotation)&&(this.linkService.rotation=n.rotation),n.dest?this.linkService.goToDestination(n.dest):n.hash?this.linkService.setHash(n.hash):n.page&&(this.linkService.page=n.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})},zn=function(){(!this._destination||this._destination.temporary)&&u(this,L,sn).call(this)},Ar=function(){if(o(this,Be))return;c(this,Be,new AbortController);const{signal:e}=o(this,Be);this.eventBus._on("updateviewarea",u(this,L,Sr).bind(this),{signal:e}),window.addEventListener("popstate",u(this,L,Ir).bind(this),{signal:e}),window.addEventListener("pagehide",u(this,L,zn).bind(this),{signal:e})},Cr=function(){var e;(e=o(this,Be))==null||e.abort(),c(this,Be,null)};function Xo(a,e){return typeof a!="string"||typeof e!="string"?!1:a===e||wn(a).get("nameddest")===e}function Ko(a,e){function t(i,n){if(typeof i!=typeof n||Array.isArray(i)||Array.isArray(n))return!1;if(i!==null&&typeof i=="object"&&n!==null){if(Object.keys(i).length!==Object.keys(n).length)return!1;for(const s in i)if(!t(i[s],n[s]))return!1;return!0}return i===n||Number.isNaN(i)&&Number.isNaN(n)}if(!(Array.isArray(a)&&Array.isArray(e))||a.length!==e.length)return!1;for(let i=0,n=a.length;i<n;i++)if(!t(a[i],e[i]))return!1;return!0}var ci,fi,gi,pi,mi,At;class Yo{constructor(e){g(this,ci,null);g(this,fi,null);g(this,gi,null);g(this,pi,null);g(this,mi,null);g(this,At);this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||(this.l10n=new Xt),this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,c(this,At,e.uiManager),c(this,ci,e.annotationLayer||null),c(this,mi,e.textLayer||null),c(this,fi,e.drawLayer||null),c(this,gi,e.onAppend||null),c(this,pi,e.structTreeLayer||null)}async render({viewport:e,intent:t="display"}){var r;if(t!=="display"||this._cancelled)return;const i=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:i}),this.show();return}const n=this.div=document.createElement("div");n.className="annotationEditorLayer",n.hidden=!0,n.dir=o(this,At).direction,(r=o(this,gi))==null||r.call(this,n),this.annotationEditorLayer=new ia({uiManager:o(this,At),div:n,structTreeLayer:o(this,pi),accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i,annotationLayer:o(this,ci),textLayer:o(this,mi),drawLayer:o(this,fi)});const s={viewport:i,div:n,annotations:null,intent:t};this.annotationEditorLayer.render(s),this.show()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.annotationEditorLayer.pause(!0),this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1,this.annotationEditorLayer.pause(!1))}}ci=new WeakMap,fi=new WeakMap,gi=new WeakMap,pi=new WeakMap,mi=new WeakMap,At=new WeakMap;{var Gn=new Map;const{maxTouchPoints:a,platform:e,userAgent:t}=navigator,i=/Android/.test(t),n=/\b(iPad|iPhone|iPod)(?=;)/.test(t)||e==="MacIntel"&&a>1;(function(){(n||i)&&Gn.set("maxCanvasPixels",5242880)})(),function(){i&&Gn.set("useSystemFonts",!1)}()}const p={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},Xn={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},Te={allowedGlobalEvents:{value:null,kind:p.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:p.BROWSER+p.API},isInAutomation:{value:!1,kind:p.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:p.BROWSER},maxCanvasDim:{value:32767,kind:p.BROWSER+p.VIEWER},nimbusDataStr:{value:"",kind:p.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:p.BROWSER},supportsDocumentFonts:{value:!0,kind:p.BROWSER},supportsIntegratedFind:{value:!1,kind:p.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:p.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:p.BROWSER},supportsPinchToZoom:{value:!0,kind:p.BROWSER},supportsPrinting:{value:!0,kind:p.BROWSER},toolbarDensity:{value:0,kind:p.BROWSER+p.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:p.VIEWER+p.PREFERENCE},annotationEditorMode:{value:0,kind:p.VIEWER+p.PREFERENCE},annotationMode:{value:2,kind:p.VIEWER+p.PREFERENCE},capCanvasAreaFactor:{value:200,kind:p.VIEWER+p.PREFERENCE},cursorToolOnLoad:{value:0,kind:p.VIEWER+p.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:p.VIEWER},defaultZoomDelay:{value:400,kind:p.VIEWER+p.PREFERENCE},defaultZoomValue:{value:"",kind:p.VIEWER+p.PREFERENCE},disableHistory:{value:!1,kind:p.VIEWER},disablePageLabels:{value:!1,kind:p.VIEWER+p.PREFERENCE},enableAltText:{value:!1,kind:p.VIEWER+p.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:p.VIEWER+p.PREFERENCE+p.EVENT_DISPATCH},enableAutoLinking:{value:!0,kind:p.VIEWER+p.PREFERENCE},enableComment:{value:!1,kind:p.VIEWER+p.PREFERENCE},enableDetailCanvas:{value:!0,kind:p.VIEWER},enableGuessAltText:{value:!0,kind:p.VIEWER+p.PREFERENCE+p.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:p.VIEWER+p.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:p.VIEWER+p.PREFERENCE},enableOptimizedPartialRendering:{value:!1,kind:p.VIEWER+p.PREFERENCE},enablePermissions:{value:!1,kind:p.VIEWER+p.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:p.VIEWER+p.PREFERENCE},enableScripting:{value:!0,kind:p.VIEWER+p.PREFERENCE},enableSignatureEditor:{value:!1,kind:p.VIEWER+p.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:p.VIEWER+p.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:p.VIEWER},externalLinkTarget:{value:0,kind:p.VIEWER+p.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F,yellow_HCM=#FFFFCC,green_HCM=#53FFBC,blue_HCM=#80EBFF,pink_HCM=#F6B8FF,red_HCM=#C50043",kind:p.VIEWER+p.PREFERENCE},historyUpdateUrl:{value:!1,kind:p.VIEWER+p.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:p.VIEWER+p.PREFERENCE},imageResourcesPath:{value:"./images/",kind:p.VIEWER},maxCanvasPixels:{value:2**25,kind:p.VIEWER},minDurationToUpdateCanvas:{value:500,kind:p.VIEWER},forcePageColors:{value:!1,kind:p.VIEWER+p.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:p.VIEWER+p.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:p.VIEWER+p.PREFERENCE},pdfBugEnabled:{value:!1,kind:p.VIEWER+p.PREFERENCE},printResolution:{value:150,kind:p.VIEWER},sidebarViewOnLoad:{value:-1,kind:p.VIEWER+p.PREFERENCE},scrollModeOnLoad:{value:-1,kind:p.VIEWER+p.PREFERENCE},spreadModeOnLoad:{value:-1,kind:p.VIEWER+p.PREFERENCE},textLayerMode:{value:1,kind:p.VIEWER+p.PREFERENCE},viewerCssTheme:{value:0,kind:p.VIEWER+p.PREFERENCE},viewOnLoad:{value:0,kind:p.VIEWER+p.PREFERENCE},cMapPacked:{value:!0,kind:p.API},cMapUrl:{value:"../web/cmaps/",kind:p.API},disableAutoFetch:{value:!1,kind:p.API+p.PREFERENCE},disableFontFace:{value:!1,kind:p.API+p.PREFERENCE},disableRange:{value:!1,kind:p.API+p.PREFERENCE},disableStream:{value:!1,kind:p.API+p.PREFERENCE},docBaseUrl:{value:"",kind:p.API},enableHWA:{value:!0,kind:p.API+p.VIEWER+p.PREFERENCE},enableXfa:{value:!0,kind:p.API+p.PREFERENCE},fontExtraProperties:{value:!1,kind:p.API},iccUrl:{value:"../web/iccs/",kind:p.API},isEvalSupported:{value:!0,kind:p.API},isOffscreenCanvasSupported:{value:!0,kind:p.API},maxImageSize:{value:-1,kind:p.API},pdfBug:{value:!1,kind:p.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:p.API},useSystemFonts:{value:void 0,kind:p.API,type:Xn.BOOLEAN+Xn.UNDEFINED},verbosity:{value:1,kind:p.API},wasmUrl:{value:"../web/wasm/",kind:p.API},workerPort:{value:null,kind:p.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:p.WORKER}};Te.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:p.VIEWER},Te.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:p.VIEWER},Te.enableFakeMLManager={value:!0,kind:p.VIEWER};Te.disablePreferences={value:!1,kind:p.VIEWER};var He;const he=class he{static get(e){return o(this,He).get(e)}static getAll(e=null,t=!1){const i=Object.create(null);for(const n in Te){const s=Te[n];e&&!(e&s.kind)||(i[n]=t?s.value:o(this,He).get(n))}return i}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||(this._hasInvokedSet=!0);let i;for(const n in e){const s=Te[n],r=e[n];if(!s||!(typeof r==typeof s.value||Xn[(typeof r).toUpperCase()]&s.type))continue;const{kind:l}=s;t&&!(l&p.BROWSER||l&p.PREFERENCE)||(this.eventBus&&l&p.EVENT_DISPATCH&&(i||(i=new Map)).set(n,r),o(this,He).set(n,r))}if(i)for(const[n,s]of i)this.eventBus.dispatch(n.toLowerCase(),{source:this,value:s})}};He=new WeakMap,Q(he,"eventBus"),g(he,He,new Map),(()=>{for(const e in Te)o(he,He).set(e,Te[e].value);for(const[e,t]of Gn)o(he,He).set(e,t);he._hasInvokedSet=!1,he._checkDisablePreferences=()=>he.get("disablePreferences")?!0:(he._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)})();let si=he;function Xs({width:a,height:e,left:t,top:i},n){if(a===0||e===0)return null;const s=n.textLayer.div.getBoundingClientRect(),r=n.getPagePoint(t-s.left,i-s.top),l=n.getPagePoint(t-s.left+a,i-s.top+e);return ps.normalizeRect([r[0],r[1],l[0],l[1]])}function Zo(a,e){const t=a.getClientRects();if(t.length===1)return{rect:Xs(t[0],e)};const i=[1/0,1/0,-1/0,-1/0],n=[];let s=0;for(const r of t){const l=Xs(r,e);l!==null&&(n[s]=n[s+4]=l[0],n[s+1]=n[s+3]=l[3],n[s+2]=n[s+6]=l[2],n[s+5]=n[s+7]=l[1],ps.rectBoundingBox(...l,i),s+=8)}return{quadPoints:n,rect:i}}function Ks(a,e){let t=a;do{if(t.nodeType===Node.TEXT_NODE){const i=t.textContent.length;if(e<=i)return[t,e];e-=i}else if(t.firstChild){t=t.firstChild;continue}for(;!t.nextSibling&&t!==a;)t=t.parentNode;t!==a&&(t=t.nextSibling)}while(t!==a);throw new Error("Offset is bigger than container's contents length.")}function Qo({url:a,index:e,length:t},i,n){const s=i._textHighlighter,[{begin:r,end:l}]=s._convertMatches([e],[t]),d=new Range;return d.setStart(...Ks(s.textDivs[r.divIdx],r.offset)),d.setEnd(...Ks(s.textDivs[l.divIdx],l.offset)),{id:`inferred_link_${n}`,unsafeUrl:a,url:a,annotationType:Js.LINK,rotation:0,...Zo(d,i),borderStyle:null}}var gn,bi;class Kn{static findLinks(e){o(this,bi)??c(this,bi,new RegExp("\\b(?:https?:\\/\\/|mailto:|www\\.)(?:[\\S--[\\p{P}<>]]|\\/|[\\S--[\\[\\]]]+[\\S--[\\p{P}<>]])+|\\b[\\S--[@\\p{Ps}\\p{Pe}<>]]+@([\\S--[\\p{P}<>]]+(?:\\.[\\S--[\\p{P}<>]]+)+)","gmv"));const[t,i]=en(e,{ignoreDashEOL:!0}),n=t.matchAll(o(this,bi)),s=[];for(const r of n){const[l,d]=r;let h;if(l.startsWith("www.")||l.startsWith("http://")||l.startsWith("https://"))h=l;else if(URL.canParse(`http://${d}`))h=l.startsWith("mailto:")?l:`mailto:${l}`;else continue;const f=qs(h,null,{addDefaultProtocol:!0});if(f){const[b,m]=sr(i,r.index,l.length);s.push({url:f.href,index:b,length:m})}}return s}static processLinks(e){return this.findLinks(e._textHighlighter.textContentItemsStr.join(`
`)).map(t=>Qo(t,e,vn(this,gn)._++))}}gn=new WeakMap,bi=new WeakMap,g(Kn,gn,0),g(Kn,bi);var Ue,Ct,Lt,Tt,Ee,We,ve,pn,wi,Yn;class Lr{constructor(e){g(this,wi);g(this,Ue,null);g(this,Ct,0);g(this,Lt,null);g(this,Tt,F.INITIAL);g(this,Ee,null);g(this,We,0);g(this,ve,null);Q(this,"canvas",null);Q(this,"div",null);Q(this,"enableOptimizedPartialRendering",!1);Q(this,"eventBus",null);Q(this,"id",null);Q(this,"pageColors",null);Q(this,"recordedGroups",null);Q(this,"renderingQueue",null);Q(this,"renderTask",null);Q(this,"resume",null);g(this,pn,e=>{var t;if((t=o(this,Ee))==null||t.call(this,!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=F.PAUSED,this.resume=()=>{this.renderingState=F.RUNNING,e()};return}e()});this.eventBus=e.eventBus,this.id=e.id,this.pageColors=e.pageColors||null,this.renderingQueue=e.renderingQueue,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,c(this,Ct,e.minDurationToUpdateCanvas??500)}get renderingState(){return o(this,Tt)}set renderingState(e){var t;if(e!==o(this,Tt))switch(c(this,Tt,e),o(this,Ue)&&(clearTimeout(o(this,Ue)),c(this,Ue,null)),e){case F.PAUSED:this.div.classList.remove("loading"),c(this,We,0),(t=o(this,Ee))==null||t.call(this,!1);break;case F.RUNNING:this.div.classList.add("loadingIcon"),c(this,Ue,setTimeout(()=>{this.div.classList.add("loading"),c(this,Ue,null)},0)),c(this,We,Date.now());break;case F.INITIAL:case F.FINISHED:this.div.classList.remove("loadingIcon","loading"),c(this,We,0);break}}_createCanvas(e,t=!1){const{pageColors:i}=this,n=!!(i!=null&&i.background&&(i!=null&&i.foreground)),s=this.canvas,r=!s&&!n&&!t;let l=this.canvas=document.createElement("canvas");return c(this,Ee,d=>{if(r){let h=o(this,ve);if(!d&&o(this,Ct)>0){if(Date.now()-o(this,We)<o(this,Ct))return;h||(h=c(this,ve,l),l=this.canvas=l.cloneNode(!1),e(l))}if(h){l.getContext("2d",{alpha:!1}).drawImage(h,0,0),d?u(this,wi,Yn).call(this):c(this,We,Date.now());return}e(l),c(this,Ee,null);return}d&&(s?(s.replaceWith(l),s.width=s.height=0):e(l))}),{canvas:l,prevCanvas:s}}_resetCanvas(){const{canvas:e}=this;e&&(e.remove(),e.width=e.height=0,this.canvas=null,u(this,wi,Yn).call(this))}async _drawCanvas(e,t,i){var r,l;const n=this.renderTask=this.pdfPage.render(e);n.onContinue=o(this,pn),n.onError=d=>{d instanceof Cn&&(t(),c(this,Lt,null))};let s=null;try{await n.promise,(r=o(this,Ee))==null||r.call(this,!0)}catch(d){if(d instanceof Cn)return;s=d,(l=o(this,Ee))==null||l.call(this,!0)}finally{c(this,Lt,s),n===this.renderTask&&(this.renderTask=null,this.enableOptimizedPartialRendering&&(this.recordedGroups??(this.recordedGroups=n.recordedGroups)))}if(this.renderingState=F.FINISHED,i(n),s)throw s}cancelRendering({cancelExtraDelay:e=0}={}){this.renderTask&&(this.renderTask.cancel(e),this.renderTask=null),this.resume=null}dispatchPageRender(){this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id})}dispatchPageRendered(e,t){this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:e,isDetailView:t,timestamp:performance.now(),error:o(this,Lt)})}}Ue=new WeakMap,Ct=new WeakMap,Lt=new WeakMap,Tt=new WeakMap,Ee=new WeakMap,We=new WeakMap,ve=new WeakMap,pn=new WeakMap,wi=new WeakSet,Yn=function(){o(this,ve)&&(o(this,ve).width=o(this,ve).height=0,c(this,ve,null))};var ue;class Jo{constructor(e){g(this,ue,null);this.pageIndex=e.pageIndex}async render({intent:e="display"}){e!=="display"||o(this,ue)||this._cancelled||c(this,ue,new ra({pageIndex:this.pageIndex}))}cancel(){this._cancelled=!0,o(this,ue)&&(o(this,ue).destroy(),c(this,ue,null))}setParent(e){var t;(t=o(this,ue))==null||t.setParent(e)}getDrawLayer(){return o(this,ue)}}ue=new WeakMap;var ne,mn,Tr;class qo extends Lr{constructor({pageView:t}){super(t);g(this,mn);g(this,ne,null);Q(this,"renderingCancelled",!1);this.pageView=t,this.renderingId="detail"+this.id,this.div=t.div}setPdfPage(t){this.pageView.setPdfPage(t)}get pdfPage(){return this.pageView.pdfPage}get renderingState(){return super.renderingState}set renderingState(t){this.renderingCancelled=!1,super.renderingState=t}reset({keepCanvas:t=!1}={}){const i=this.renderingCancelled||this.renderingState===F.RUNNING||this.renderingState===F.PAUSED;this.cancelRendering(),this.renderingState=F.INITIAL,this.renderingCancelled=i,t||this._resetCanvas()}update({visibleArea:t=null,underlyingViewUpdated:i=!1}={}){if(i){this.cancelRendering(),this.renderingState=F.INITIAL;return}if(!u(this,mn,Tr).call(this,t))return;const{viewport:n,maxCanvasPixels:s,capCanvasAreaFactor:r}=this.pageView,l=t.maxX-t.minX,d=t.maxY-t.minY,h=l*d*qi.pixelRatio**2,b=(Math.sqrt(qi.capPixels(s,r)/h)-1)/2;let m=Math.min(1,b);m<0&&(m=0);const E=l*m,P=d*m,x=Math.max(0,t.minX-E),T=Math.min(n.width,t.maxX+E),N=Math.max(0,t.minY-P),C=Math.min(n.height,t.maxY+P),v=T-x,S=C-N;c(this,ne,{minX:x,minY:N,width:v,height:S,scale:n.scale}),this.reset({keepCanvas:!0})}_getRenderingContext(t,i){const n=this.pageView._getRenderingContext(t,i),s=this.pdfPage.recordedGroups;if(!s||!this.enableOptimizedPartialRendering)return{...n,recordOperations:!1};const r=new Set,{viewport:{width:l,height:d}}=this.pageView,{width:h,height:f,minX:b,minY:m}=o(this,ne),E=b/l,P=m/d,x=(b+h)/l,T=(m+f)/d;for(let N=0,C=s.length;N<C;N++){const v=s[N];v.minX<=x&&v.maxX>=E&&v.minY<=T&&v.maxY>=P&&(r.add(v.idx),v.dependencies.forEach(r.add,r))}return{...n,recordOperations:!1,filteredOperationIndexes:r}}async draw(){if(this.pageView.detailView!==this)return;const t=this.pageView.renderingState===F.FINISHED||this.renderingState===F.FINISHED;this.renderingState!==F.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:i,pdfPage:n,viewport:s}=this.pageView;if(!n)throw this.renderingState=F.FINISHED,new Error("pdfPage is not loaded");this.renderingState=F.RUNNING;const r=this.pageView._ensureCanvasWrapper(),{canvas:l,prevCanvas:d}=this._createCanvas(T=>{var N;((N=r.firstElementChild)==null?void 0:N.tagName)==="CANVAS"?r.firstElementChild.after(T):r.prepend(T)},t);l.setAttribute("aria-hidden","true");const{width:h,height:f}=s,b=o(this,ne),{pixelRatio:m}=qi,E=[m,0,0,m,-b.minX*m,-b.minY*m];l.width=b.width*m,l.height=b.height*m;const{style:P}=l;P.width=`${b.width*100/h}%`,P.height=`${b.height*100/f}%`,P.top=`${b.minY*100/f}%`,P.left=`${b.minX*100/h}%`;const x=this._drawCanvas(this._getRenderingContext(l,E),()=>{var T;(T=this.canvas)==null||T.remove(),this.canvas=d},()=>{this.dispatchPageRendered(!1,!0)});return i.setAttribute("data-loaded",!0),this.dispatchPageRender(),x}}ne=new WeakMap,mn=new WeakSet,Tr=function(t){if(!o(this,ne))return!0;const i=o(this,ne).minX,n=o(this,ne).minY,s=o(this,ne).width+i,r=o(this,ne).height+n;if(t.minX<i||t.minY<n||t.maxX>s||t.maxY>r)return!0;const{width:l,height:d,scale:h}=this.pageView.viewport;if(o(this,ne).scale!==h)return!0;const f=t.minX-i,b=s-t.maxX,m=t.minY-n,E=r-t.maxY,P=.5,x=(1+P)/P;return i>0&&b/f>x||s<l&&f/b>x||n>0&&E/m>x||r<d&&m/E>x};const Ys={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},el=/^H(\d+)$/;var Rt,le,Nt,Mt,Dt,$e,me,Zn,Nr,Qn;class Rr{constructor(e,t){g(this,me);g(this,Rt);g(this,le,null);g(this,Nt);g(this,Mt,new Map);g(this,Dt);g(this,$e,null);c(this,Rt,e.getStructTree()),c(this,Dt,t)}async render(){var n;if(o(this,Nt))return o(this,Nt);const{promise:e,resolve:t,reject:i}=Promise.withResolvers();c(this,Nt,e);try{c(this,le,u(this,me,Qn).call(this,await o(this,Rt)))}catch(s){i(s)}return c(this,Rt,null),(n=o(this,le))==null||n.classList.add("structTree"),t(o(this,le)),e}async getAriaAttributes(e){try{return await this.render(),o(this,Mt).get(e)}catch{}return null}hide(){o(this,le)&&!o(this,le).hidden&&(o(this,le).hidden=!0)}show(){var e;(e=o(this,le))!=null&&e.hidden&&(o(this,le).hidden=!1)}addElementsToTextLayer(){var e;if(o(this,$e)){for(const[t,i]of o(this,$e))(e=document.getElementById(t))==null||e.append(i);o(this,$e).clear(),c(this,$e,null)}}}Rt=new WeakMap,le=new WeakMap,Nt=new WeakMap,Mt=new WeakMap,Dt=new WeakMap,$e=new WeakMap,me=new WeakSet,Zn=function(e,t){const{alt:i,id:n,lang:s}=e;if(i!==void 0){let r=!1;const l=ni(i);for(const d of e.children)if(d.type==="annotation"){let h=o(this,Mt).get(d.id);h||(h=new Map,o(this,Mt).set(d.id,h)),h.set("aria-label",l),r=!0}r||t.setAttribute("aria-label",l)}n!==void 0&&t.setAttribute("aria-owns",n),s!==void 0&&t.setAttribute("lang",ni(s,!0))},Nr=function(e,t){const{alt:i,bbox:n,children:s}=e,r=s==null?void 0:s[0];if(!o(this,Dt)||!i||!n||(r==null?void 0:r.type)!=="content")return!1;const{id:l}=r;if(!l)return!1;t.setAttribute("aria-owns",l);const d=document.createElement("span");(o(this,$e)||c(this,$e,new Map)).set(l,d),d.setAttribute("role","img"),d.setAttribute("aria-label",ni(i));const{pageHeight:h,pageX:f,pageY:b}=o(this,Dt),m="calc(var(--total-scale-factor) *",{style:E}=d;return E.width=`${m}${n[2]-n[0]}px)`,E.height=`${m}${n[3]-n[1]}px)`,E.left=`${m}${n[0]-f}px)`,E.top=`${m}${h-n[3]+b}px)`,!0},Qn=function(e){if(!e)return null;const t=document.createElement("span");if("role"in e){const{role:i}=e,n=i.match(el);if(n?(t.setAttribute("role","heading"),t.setAttribute("aria-level",n[1])):Ys[i]&&t.setAttribute("role",Ys[i]),i==="Figure"&&u(this,me,Nr).call(this,e,t))return t}if(u(this,me,Zn).call(this,e,t),e.children)if(e.children.length===1&&"id"in e.children[0])u(this,me,Zn).call(this,e.children[0],t);else for(const i of e.children)t.append(u(this,me,Qn).call(this,i));return t};var ye,se,Pe,ze,kt,on,Ei,qn;const vt=class vt{constructor(){g(this,Ei);g(this,ye,!1);g(this,se,null);g(this,Pe,new Map);g(this,ze,new Map)}setTextMapping(e){c(this,se,e)}enable(){if(o(this,ye))throw new Error("TextAccessibilityManager is already enabled.");if(!o(this,se))throw new Error("Text divs and strings have not been set.");if(c(this,ye,!0),c(this,se,o(this,se).slice()),o(this,se).sort(u(vt,kt,on)),o(this,Pe).size>0){const e=o(this,se);for(const[t,i]of o(this,Pe)){if(!document.getElementById(t)){o(this,Pe).delete(t);continue}u(this,Ei,qn).call(this,t,e[i])}}for(const[e,t]of o(this,ze))this.addPointerInTextLayer(e,t);o(this,ze).clear()}disable(){o(this,ye)&&(o(this,ze).clear(),c(this,se,null),c(this,ye,!1))}removePointerInTextLayer(e){if(!o(this,ye)){o(this,ze).delete(e);return}const t=o(this,se);if(!t||t.length===0)return;const{id:i}=e,n=o(this,Pe).get(i);if(n===void 0)return;const s=t[n];o(this,Pe).delete(i);let r=s.getAttribute("aria-owns");r!=null&&r.includes(i)&&(r=r.split(" ").filter(l=>l!==i).join(" "),r?s.setAttribute("aria-owns",r):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}addPointerInTextLayer(e,t){const{id:i}=e;if(!i)return null;if(!o(this,ye))return o(this,ze).set(e,t),null;t&&this.removePointerInTextLayer(e);const n=o(this,se);if(!n||n.length===0)return null;const s=ai(n,h=>{var f;return u(f=vt,kt,on).call(f,e,h)<0}),r=Math.max(0,s-1),l=n[r];u(this,Ei,qn).call(this,i,l),o(this,Pe).set(i,r);const d=l.parentNode;return d!=null&&d.classList.contains("markedContent")?d.id:null}moveElementInDOM(e,t,i,n){const s=this.addPointerInTextLayer(i,n);if(!e.hasChildNodes())return e.append(t),s;const r=Array.from(e.childNodes).filter(h=>h!==t);if(r.length===0)return s;const l=i||t,d=ai(r,h=>{var f;return u(f=vt,kt,on).call(f,l,h)<0});return d===0?r[0].before(t):r[d-1].after(t),s}};ye=new WeakMap,se=new WeakMap,Pe=new WeakMap,ze=new WeakMap,kt=new WeakSet,on=function(e,t){const i=e.getBoundingClientRect(),n=t.getBoundingClientRect();if(i.width===0&&i.height===0)return 1;if(n.width===0&&n.height===0)return-1;const s=i.y,r=i.y+i.height,l=i.y+i.height/2,d=n.y,h=n.y+n.height,f=n.y+n.height/2;if(l<=d&&f>=r)return-1;if(f<=s&&l>=h)return 1;const b=i.x+i.width/2,m=n.x+n.width/2;return b-m},Ei=new WeakSet,qn=function(e,t){const i=t.getAttribute("aria-owns");i!=null&&i.includes(e)||t.setAttribute("aria-owns",i?`${i} ${e}`:e),t.removeAttribute("role")},g(vt,kt);let Jn=vt;var Ge;class tl{constructor({findController:e,eventBus:t,pageIndex:i}){g(this,Ge,null);this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,o(this,Ge)||(c(this,Ge,new AbortController),this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:o(this,Ge).signal})),this._updateMatches()}disable(){var e;this.enabled&&(this.enabled=!1,(e=o(this,Ge))==null||e.abort(),c(this,Ge,null),this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:i}=this;let n=0,s=0;const r=i.length-1,l=[];for(let d=0,h=e.length;d<h;d++){let f=e[d];for(;n!==r&&f>=s+i[n].length;)s+=i[n].length,n++;n===i.length&&console.error("Could not find a matching mapping");const b={begin:{divIdx:n,offset:f-s}};for(f+=t[d];n!==r&&f>s+i[n].length;)s+=i[n].length,n++;b.end={divIdx:n,offset:f-s},l.push(b)}return l}_renderMatches(e){if(e.length===0)return;const{findController:t,pageIdx:i}=this,{textContentItemsStr:n,textDivs:s}=this,r=i===t.selected.pageIdx,l=t.selected.matchIdx,d=t.state.highlightAll;let h=null;const f={divIdx:-1,offset:void 0};function b(N,C){const v=N.divIdx;return s[v].textContent="",m(v,0,N.offset,C)}function m(N,C,v,S){let M=s[N];if(M.nodeType===Node.TEXT_NODE){const A=document.createElement("span");M.before(A),A.append(M),s[N]=A,M=A}const k=n[N].substring(C,v),O=document.createTextNode(k);if(S){const A=document.createElement("span");if(A.className=`${S} appended`,A.append(O),M.append(A),S.includes("selected")){const{left:w}=A.getClientRects()[0],y=M.getBoundingClientRect().left;return w-y}return 0}return M.append(O),0}let E=l,P=E+1;if(d)E=0,P=e.length;else if(!r)return;let x=-1,T=-1;for(let N=E;N<P;N++){const C=e[N],v=C.begin;if(v.divIdx===x&&v.offset===T)continue;x=v.divIdx,T=v.offset;const S=C.end,M=r&&N===l,k=M?" selected":"";let O=0;if(!h||v.divIdx!==h.divIdx?(h!==null&&m(h.divIdx,h.offset,f.offset),b(v)):m(h.divIdx,h.offset,v.offset),v.divIdx===S.divIdx)O=m(v.divIdx,v.offset,S.offset,"highlight"+k);else{O=m(v.divIdx,v.offset,f.offset,"highlight begin"+k);for(let A=v.divIdx+1,w=S.divIdx;A<w;A++)s[A].className="highlight middle"+k;b(S,"highlight end"+k)}h=S,M&&t.scrollMatchIntoView({element:s[v.divIdx],selectedLeft:O,pageIndex:i,matchIndex:l})}h&&m(h.divIdx,h.offset,f.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:i,pageIdx:n}=this,{textContentItemsStr:s,textDivs:r}=this;let l=-1;for(const f of i){const b=Math.max(l,f.begin.divIdx);for(let m=b,E=f.end.divIdx;m<=E;m++){const P=r[m];P.textContent=s[m],P.className=""}l=f.end.divIdx+1}if(!(t!=null&&t.highlightMatches)||e)return;const d=t.pageMatches[n]||null,h=t.pageMatchesLength[n]||null;this.matches=this._convertMatches(d,h),this._renderMatches(this.matches)}}Ge=new WeakMap;var vi,yi,ot,ce,ee,Xe,bn,Mr,Yt,Dr,kr;const De=class De{constructor({pdfPage:e,highlighter:t=null,accessibilityManager:i=null,enablePermissions:n=!1,onAppend:s=null}){g(this,bn);g(this,vi,!1);g(this,yi,null);g(this,ot,!1);g(this,ce,null);this.pdfPage=e,this.highlighter=t,this.accessibilityManager=i,c(this,vi,n===!0),c(this,yi,s),this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}async render({viewport:e,textContentParams:t=null}){var r,l,d,h,f;if(o(this,ot)&&o(this,ce)){o(this,ce).update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),c(this,ce,new ua({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e}));const{textDivs:i,textContentItemsStr:n}=o(this,ce);(r=this.highlighter)==null||r.setTextMapping(i,n),(l=this.accessibilityManager)==null||l.setTextMapping(i),await o(this,ce).render(),c(this,ot,!0);const s=document.createElement("div");s.className="endOfContent",this.div.append(s),u(this,bn,Mr).call(this,s),(d=o(this,yi))==null||d.call(this,this.div),(h=this.highlighter)==null||h.enable(),(f=this.accessibilityManager)==null||f.enable()}hide(){var e;!this.div.hidden&&o(this,ot)&&((e=this.highlighter)==null||e.disable(),this.div.hidden=!0)}show(){var e;this.div.hidden&&o(this,ot)&&(this.div.hidden=!1,(e=this.highlighter)==null||e.enable())}cancel(){var e,t,i,n;(e=o(this,ce))==null||e.cancel(),c(this,ce,null),(t=this.highlighter)==null||t.disable(),(i=this.accessibilityManager)==null||i.disable(),u(n=De,Yt,Dr).call(n,this.div)}};vi=new WeakMap,yi=new WeakMap,ot=new WeakMap,ce=new WeakMap,ee=new WeakMap,Xe=new WeakMap,bn=new WeakSet,Mr=function(e){var i;const{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",n=>{if(!o(this,vi)){const s=document.getSelection();n.clipboardData.setData("text/plain",ni(ha(s.toString())))}Ln(n)}),o(De,ee).set(t,e),u(i=De,Yt,kr).call(i)},Yt=new WeakSet,Dr=function(e){var t;o(this,ee).delete(e),o(this,ee).size===0&&((t=o(this,Xe))==null||t.abort(),c(this,Xe,null))},kr=function(){if(o(this,Xe))return;c(this,Xe,new AbortController);const{signal:e}=o(this,Xe),t=(r,l)=>{l.append(r),r.style.width="",r.style.height="",l.classList.remove("selecting")};let i=!1;document.addEventListener("pointerdown",()=>{i=!0},{signal:e}),document.addEventListener("pointerup",()=>{i=!1,o(this,ee).forEach(t)},{signal:e}),window.addEventListener("blur",()=>{i=!1,o(this,ee).forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{i||o(this,ee).forEach(t)},{signal:e});var n,s;document.addEventListener("selectionchange",()=>{var E;const r=document.getSelection();if(r.rangeCount===0){o(this,ee).forEach(t);return}const l=new Set;for(let P=0;P<r.rangeCount;P++){const x=r.getRangeAt(P);for(const T of o(this,ee).keys())!l.has(T)&&x.intersectsNode(T)&&l.add(T)}for(const[P,x]of o(this,ee))l.has(P)?P.classList.add("selecting"):t(x,P);if(n??(n=getComputedStyle(o(this,ee).values().next().value).getPropertyValue("-moz-user-select")==="none"),n)return;const d=r.getRangeAt(0),h=s&&(d.compareBoundaryPoints(Range.END_TO_END,s)===0||d.compareBoundaryPoints(Range.START_TO_END,s)===0);let f=h?d.startContainer:d.endContainer;if(f.nodeType===Node.TEXT_NODE&&(f=f.parentNode),!h&&d.endOffset===0)do{for(;!f.previousSibling;)f=f.parentNode;f=f.previousSibling}while(!f.childNodes.length);const b=(E=f.parentElement)==null?void 0:E.closest(".textLayer"),m=o(this,ee).get(b);m&&(m.style.width=b.style.width,m.style.height=b.style.height,f.parentElement.insertBefore(m,h?f:f.nextSibling)),s=d.cloneRange()},{signal:e})},g(De,Yt),g(De,ee,new Map),g(De,Xe,null);let fn=De;class jr{constructor({pdfPage:e,annotationStorage:t=null,linkService:i,xfaHtml:n=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=i,this.xfaHtml=n,this.div=null,this._cancelled=!1}async render({viewport:e,intent:t="display"}){if(t==="print"){const s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),s.div=this.div,yn.render(s)}const i=await this.pdfPage.getXfa();if(this._cancelled||!i)return{textDivs:[]};const n={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?yn.update(n):(this.div=document.createElement("div"),n.div=this.div,yn.render(n))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const il={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new ms}},nl=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);var lt,Ke,Pi,_i,xi,Ye,Ze,jt,Si,Ii,Ai,Ot,Ci,_e,Qe,R,Et,ln,ei,es,ts,is,ns,ss,Fr,Vr,Br,rs;class Or extends Lr{constructor(t){var r,l;super(t);g(this,R);g(this,lt,Le.ENABLE_FORMS);g(this,Ke,null);g(this,Pi,!0);g(this,_i,!1);g(this,xi,!1);g(this,Ye,null);g(this,Ze,!1);g(this,jt,null);g(this,Si,null);g(this,Ii,1);g(this,Ai,1);g(this,Ot,ge.ENABLE);g(this,Ci,1);g(this,_e,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});g(this,Qe,[null,null,null,null]);const i=t.container,n=t.defaultViewport;this.renderingId="page"+this.id,c(this,Ye,t.layerProperties||il),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||tr,this.viewport=n,this.pdfPageRotate=n.rotation,this._optionalContentConfigPromise=t.optionalContentConfigPromise||null,c(this,Ot,t.textLayerMode??ge.ENABLE),c(this,lt,t.annotationMode??Le.ENABLE_FORMS),this.imageResourcesPath=t.imageResourcesPath||"",this.enableDetailCanvas=t.enableDetailCanvas??!0,this.maxCanvasPixels=t.maxCanvasPixels??si.get("maxCanvasPixels"),this.maxCanvasDim=t.maxCanvasDim||si.get("maxCanvasDim"),this.capCanvasAreaFactor=t.capCanvasAreaFactor??si.get("capCanvasAreaFactor"),c(this,Pi,t.enableAutoLinking!==!1),this.l10n=t.l10n,this.l10n||(this.l10n=new Xt),this._isStandalone=!((r=this.renderingQueue)!=null&&r.hasViewer()),this._container=i,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null,this.detailView=null;const s=document.createElement("div");if(s.className="page",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),s.setAttribute("data-l10n-id","pdfjs-page-landmark"),s.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=s,u(this,R,ln).call(this),i==null||i.append(s),this._isStandalone){i==null||i.style.setProperty("--scale-factor",this.scale*we.PDF_TO_CSS_UNITS),(l=this.pageColors)!=null&&l.background&&(i==null||i.style.setProperty("--page-bg-color",this.pageColors.background));const{optionalContentConfigPromise:d}=t;d&&d.then(h=>{d===this._optionalContentConfigPromise&&(o(this,_e).initialOptionalContent=h.hasInitialVisibility)}),t.l10n||this.l10n.translate(this.div)}}setPdfPage(t){var n,s,r,l;this._isStandalone&&(((n=this.pageColors)==null?void 0:n.foreground)==="CanvasText"||((s=this.pageColors)==null?void 0:s.background)==="Canvas")&&((r=this._container)==null||r.style.setProperty("--hcm-highlight-filter",t.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),(l=this._container)==null||l.style.setProperty("--hcm-highlight-selected-filter",t.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=t,this.pdfPageRotate=t.rotate;const i=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*we.PDF_TO_CSS_UNITS,rotation:i}),u(this,R,ln).call(this),this.reset()}destroy(){var t;this.reset(),(t=this.pdfPage)==null||t.cleanup()}hasEditableAnnotations(){var t;return!!((t=this.annotationLayer)!=null&&t.hasEditableAnnotations())}get _textHighlighter(){return cn(this,"_textHighlighter",new tl({pageIndex:this.id-1,eventBus:this.eventBus,findController:o(this,Ye).findController}))}_resetCanvas(){super._resetCanvas(),c(this,jt,null)}reset({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:n=!1,keepTextLayer:s=!1,keepCanvasWrapper:r=!1,preserveDetailViewState:l=!1}={}){var T,N,C,v,S,M,k;const d=((T=this.pdfPage)==null?void 0:T._pdfBug)??!1;this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:i,keepXfaLayer:n,keepTextLayer:s}),this.renderingState=F.INITIAL;const h=this.div,f=h.childNodes,b=t&&((N=this.annotationLayer)==null?void 0:N.div)||null,m=i&&((C=this.annotationEditorLayer)==null?void 0:C.div)||null,E=n&&((v=this.xfaLayer)==null?void 0:v.div)||null,P=s&&((S=this.textLayer)==null?void 0:S.div)||null,x=r&&o(this,Ke)||null;for(let O=f.length-1;O>=0;O--){const A=f[O];switch(A){case b:case m:case E:case P:case x:continue}if(d&&A.classList.contains("pdfBugGroupsLayer"))continue;A.remove();const w=o(this,Qe).indexOf(A);w>=0&&(o(this,Qe)[w]=null)}h.removeAttribute("data-loaded"),b&&this.annotationLayer.hide(),m&&this.annotationEditorLayer.hide(),E&&this.xfaLayer.hide(),P&&this.textLayer.hide(),(M=this.structTreeLayer)==null||M.hide(),!r&&o(this,Ke)&&(c(this,Ke,null),this._resetCanvas()),l||((k=this.detailView)==null||k.reset({keepCanvas:r}),r||(this.detailView=null))}toggleEditingMode(t){c(this,xi,t),this.hasEditableAnnotations()&&this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0})}updateVisibleArea(t){this.enableDetailCanvas&&(o(this,Ze)&&this.maxCanvasPixels>0&&t?(this.detailView??(this.detailView=new qo({pageView:this,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering})),this.detailView.update({visibleArea:t})):this.detailView&&(this.detailView.reset(),this.detailView=null))}update({scale:t=0,rotation:i=null,optionalContentConfigPromise:n=null,drawingDelay:s=-1}){var l,d,h;this.scale=t||this.scale,typeof i=="number"&&(this.rotation=i),n instanceof Promise&&(this._optionalContentConfigPromise=n,n.then(f=>{n===this._optionalContentConfigPromise&&(o(this,_e).initialOptionalContent=f.hasInitialVisibility)})),o(this,_e).directDrawing=!0;const r=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*we.PDF_TO_CSS_UNITS,rotation:r}),u(this,R,ln).call(this),this._isStandalone&&((l=this._container)==null||l.style.setProperty("--scale-factor",this.viewport.scale)),u(this,R,rs).call(this),this.canvas){const f=o(this,_i)&&o(this,Ze),b=s>=0&&s<1e3;if(b||f){b&&!f&&this.renderingState!==F.FINISHED&&(this.cancelRendering({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:s}),this.renderingState=F.FINISHED,o(this,_e).directDrawing=!1),this.cssTransform({redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!b,hideTextLayer:b}),b||((d=this.detailView)==null||d.update({underlyingViewUpdated:!0}),this.dispatchPageRendered(!0,!1));return}}this.cssTransform({}),this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0,preserveDetailViewState:!0}),(h=this.detailView)==null||h.update({underlyingViewUpdated:!0})}cancelRendering({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:n=!1,keepTextLayer:s=!1,cancelExtraDelay:r=0}={}){var l;super.cancelRendering({cancelExtraDelay:r}),this.textLayer&&(!s||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!t||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!i||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!n||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(l=this._textHighlighter)==null||l.disable())}cssTransform({redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:n=!1,redrawTextLayer:s=!1,hideTextLayer:r=!1}){var h;const{canvas:l}=this;if(!l)return;const d=o(this,jt);if(this.viewport!==d){const f=(360+this.viewport.rotation-d.rotation)%360;if(f===90||f===270){const{width:b,height:m}=this.viewport,E=m/b,P=b/m;l.style.transform=`rotate(${f}deg) scale(${E},${P})`}else l.style.transform=f===0?"":`rotate(${f}deg)`}t&&this.annotationLayer&&u(this,R,es).call(this),i&&this.annotationEditorLayer&&(this.drawLayer&&u(this,R,is).call(this),u(this,R,ts).call(this)),n&&this.xfaLayer&&u(this,R,ns).call(this),this.textLayer&&(r?(this.textLayer.hide(),(h=this.structTreeLayer)==null||h.hide()):s&&u(this,R,ss).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(t,i){return this.viewport.convertToPdfPoint(t,i)}_ensureCanvasWrapper(){let t=o(this,Ke);return t||(t=c(this,Ke,document.createElement("div")),t.classList.add("canvasWrapper"),u(this,R,Et).call(this,t,"canvasWrapper")),t}_getRenderingContext(t,i){return{canvas:t,transform:i,viewport:this.viewport,annotationMode:o(this,lt),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors,isEditing:o(this,xi),recordOperations:this.enableOptimizedPartialRendering&&!this.recordedGroups}}async draw(){this.renderingState!==F.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:t,l10n:i,pdfPage:n,viewport:s}=this;if(!n)throw this.renderingState=F.FINISHED,new Error("pdfPage is not loaded");this.renderingState=F.RUNNING;const r=this._ensureCanvasWrapper();if(!this.textLayer&&o(this,Ot)!==ge.DISABLE&&!n.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new Jn),this.textLayer=new fn({pdfPage:n,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:o(this,Ot)===ge.ENABLE_PERMISSIONS,onAppend:S=>{this.l10n.pause(),u(this,R,Et).call(this,S,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&o(this,lt)!==Le.DISABLE){const{annotationStorage:S,annotationEditorUIManager:M,downloadManager:k,enableComment:O,enableScripting:A,fieldObjectsPromise:w,hasJSActionsPromise:y,linkService:D}=o(this,Ye);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new fr({pdfPage:n,annotationStorage:S,imageResourcesPath:this.imageResourcesPath,renderForms:o(this,lt)===Le.ENABLE_FORMS,linkService:D,downloadManager:k,enableComment:O,enableScripting:A,hasJSActionsPromise:y,fieldObjectsPromise:w,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:M,onAppend:V=>{u(this,R,Et).call(this,V,"annotationLayer")}})}const{width:l,height:d}=s;c(this,jt,s);const{canvas:h,prevCanvas:f}=this._createCanvas(S=>{r.prepend(S)});h.setAttribute("role","presentation"),this.outputScale||u(this,R,rs).call(this);const{outputScale:b}=this;c(this,_i,o(this,Ze));const m=xs(b.sx),E=xs(b.sy),P=h.width=Ki(Yi(l*b.sx),m[0]),x=h.height=Ki(Yi(d*b.sy),E[0]),T=Ki(Yi(l),m[1]),N=Ki(Yi(d),E[1]);b.sx=P/T,b.sy=x/N,o(this,Ii)!==m[1]&&(t.style.setProperty("--scale-round-x",`${m[1]}px`),c(this,Ii,m[1])),o(this,Ai)!==E[1]&&(t.style.setProperty("--scale-round-y",`${E[1]}px`),c(this,Ai,E[1]));const C=b.scaled?[b.sx,0,0,b.sy,0,0]:null,v=this._drawCanvas(this._getRenderingContext(h,C),()=>{f==null||f.remove(),this._resetCanvas()},S=>{o(this,_e).regularAnnotations=!S.separateAnnots,this.dispatchPageRendered(!1,!1)}).then(async()=>{var k;this.structTreeLayer||(this.structTreeLayer=new Rr(n,s.rawDims));const S=u(this,R,ss).call(this);this.annotationLayer&&(await u(this,R,es).call(this),o(this,Pi)&&this.annotationLayer&&this.textLayer&&await u(this,R,Br).call(this,S));const{annotationEditorUIManager:M}=o(this,Ye);M&&(this.drawLayer||(this.drawLayer=new Jo({pageIndex:this.id})),await u(this,R,is).call(this),this.drawLayer.setParent(r),this.annotationEditorLayer||(this.annotationEditorLayer=new Yo({uiManager:M,pdfPage:n,l10n:i,structTreeLayer:this.structTreeLayer,accessibilityManager:this._accessibilityManager,annotationLayer:(k=this.annotationLayer)==null?void 0:k.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:O=>{u(this,R,Et).call(this,O,"annotationEditorLayer")}})),u(this,R,ts).call(this))});if(n.isPureXfa){if(!this.xfaLayer){const{annotationStorage:S,linkService:M}=o(this,Ye);this.xfaLayer=new jr({pdfPage:n,annotationStorage:S,linkService:M})}u(this,R,ns).call(this)}return t.setAttribute("data-loaded",!0),this.dispatchPageRender(),v}setPageLabel(t){this.pageLabel=typeof t=="string"?t:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:t,initialOptionalContent:i,regularAnnotations:n}=o(this,_e);return t&&i&&n?this.canvas:null}}lt=new WeakMap,Ke=new WeakMap,Pi=new WeakMap,_i=new WeakMap,xi=new WeakMap,Ye=new WeakMap,Ze=new WeakMap,jt=new WeakMap,Si=new WeakMap,Ii=new WeakMap,Ai=new WeakMap,Ot=new WeakMap,Ci=new WeakMap,_e=new WeakMap,Qe=new WeakMap,R=new WeakSet,Et=function(t,i){const n=nl.get(i),s=o(this,Qe)[n];if(o(this,Qe)[n]=t,s){s.replaceWith(t);return}for(let r=n-1;r>=0;r--){const l=o(this,Qe)[r];if(l){l.after(t);return}}this.div.prepend(t)},ln=function(){const{div:t,viewport:i}=this;if(i.userUnit!==o(this,Ci)&&(i.userUnit!==1?t.style.setProperty("--user-unit",i.userUnit):t.style.removeProperty("--user-unit"),c(this,Ci,i.userUnit)),this.pdfPage){if(o(this,Si)===i.rotation)return;c(this,Si,i.rotation)}er(t,i,!0,!1)},ei=function(t,i){this.eventBus.dispatch(t,{source:this,pageNumber:this.id,error:i})},es=async function(){let t=null;try{await this.annotationLayer.render({viewport:this.viewport,intent:"display",structTreeLayer:this.structTreeLayer})}catch(i){console.error("#renderAnnotationLayer:",i),t=i}finally{u(this,R,ei).call(this,"annotationlayerrendered",t)}},ts=async function(){let t=null;try{await this.annotationEditorLayer.render({viewport:this.viewport,intent:"display"})}catch(i){console.error("#renderAnnotationEditorLayer:",i),t=i}finally{u(this,R,ei).call(this,"annotationeditorlayerrendered",t)}},is=async function(){try{await this.drawLayer.render({intent:"display"})}catch(t){console.error("#renderDrawLayer:",t)}},ns=async function(){var i;let t=null;try{const n=await this.xfaLayer.render({viewport:this.viewport,intent:"display"});n!=null&&n.textDivs&&this._textHighlighter&&u(this,R,Vr).call(this,n.textDivs)}catch(n){console.error("#renderXfaLayer:",n),t=n}finally{(i=this.xfaLayer)!=null&&i.div&&(this.l10n.pause(),u(this,R,Et).call(this,this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),u(this,R,ei).call(this,"xfalayerrendered",t)}},ss=async function(){if(!this.textLayer)return;let t=null;try{await this.textLayer.render({viewport:this.viewport})}catch(i){if(i instanceof ta)return;console.error("#renderTextLayer:",i),t=i}u(this,R,ei).call(this,"textlayerrendered",t),u(this,R,Fr).call(this)},Fr=async function(){var i,n,s;if(!this.textLayer)return;const t=await((i=this.structTreeLayer)==null?void 0:i.render());t&&(this.l10n.pause(),(n=this.structTreeLayer)==null||n.addElementsToTextLayer(),this.canvas&&t.parentNode!==this.canvas&&this.canvas.append(t),this.l10n.resume()),(s=this.structTreeLayer)==null||s.show()},Vr=async function(t){const i=await this.pdfPage.getTextContent(),n=[];for(const s of i.items)n.push(s.str);this._textHighlighter.setTextMapping(t,n),this._textHighlighter.enable()},Br=async function(t){try{if(await t,!this.annotationLayer)return;await this.annotationLayer.injectLinkAnnotations({inferredLinks:Kn.processLinks(this),viewport:this.viewport,structTreeLayer:this.structTreeLayer})}catch(i){console.error("#injectLinkAnnotations:",i)}},rs=function(){const{width:t,height:i}=this.viewport,n=this.outputScale=new qi;if(this.maxCanvasPixels===0){const s=1/this.scale;n.sx*=s,n.sy*=s,c(this,Ze,!0)}else c(this,Ze,n.limitCanvas(t,i,this.maxCanvasPixels,this.maxCanvasDim,this.capCanvasAreaFactor))};async function sl(a){const e="",t="",{info:i,metadata:n,contentDispositionFilename:s,contentLength:r}=await a.getMetadata();return{...i,baseURL:t,filesize:r||(await a.getDownloadInfo()).length,filename:s||oa(e),metadata:n==null?void 0:n.getRaw(),authors:n==null?void 0:n.get("dc:creator"),numPages:a.numPages,URL:e}}class rl{constructor(e){this._ready=new Promise((t,i)=>{import(e).then(s=>{t(s.QuickJSSandbox())}).catch(i)})}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const t=await this._ready;setTimeout(()=>t.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}var fe,dt,Li,ht,ut,Ti,K,xe,Ft,W,re,z,Hr,dn,as,Ur,ti;class al{constructor({eventBus:e,externalServices:t=null,docProperties:i=null}){g(this,z);g(this,fe,null);g(this,dt,null);g(this,Li,null);g(this,ht,null);g(this,ut,null);g(this,Ti,null);g(this,K,null);g(this,xe,null);g(this,Ft,!1);g(this,W,null);g(this,re,null);c(this,ut,e),c(this,Ti,t),c(this,Li,i)}setViewer(e){c(this,xe,e)}async setDocument(e){var l;if(o(this,K)&&await u(this,z,ti).call(this),c(this,K,e),!e)return;const[t,i,n]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!n){await u(this,z,ti).call(this);return}if(e!==o(this,K))return;try{c(this,W,u(this,z,Ur).call(this))}catch(d){console.error("setDocument:",d),await u(this,z,ti).call(this);return}const s=o(this,ut);c(this,ht,new AbortController);const{signal:r}=o(this,ht);s._on("updatefromsandbox",d=>{(d==null?void 0:d.source)===window&&u(this,z,Hr).call(this,d.detail)},{signal:r}),s._on("dispatcheventinsandbox",d=>{var h;(h=o(this,W))==null||h.dispatchEventInSandbox(d.detail)},{signal:r}),s._on("pagechanging",({pageNumber:d,previous:h})=>{d!==h&&(u(this,z,as).call(this,h),u(this,z,dn).call(this,d))},{signal:r}),s._on("pagerendered",({pageNumber:d})=>{this._pageOpenPending.has(d)&&d===o(this,xe).currentPageNumber&&u(this,z,dn).call(this,d)},{signal:r}),s._on("pagesdestroy",async()=>{var d,h;await u(this,z,as).call(this,o(this,xe).currentPageNumber),await((d=o(this,W))==null?void 0:d.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(h=o(this,fe))==null||h.resolve()},{signal:r});try{const d=await o(this,Li).call(this,e);if(e!==o(this,K))return;await o(this,W).createSandbox({objects:t,calculationOrder:i,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...d,actions:n}}),s.dispatch("sandboxcreated",{source:this})}catch(d){console.error("setDocument:",d),await u(this,z,ti).call(this);return}await((l=o(this,W))==null?void 0:l.dispatchEventInSandbox({id:"doc",name:"Open"})),await u(this,z,dn).call(this,o(this,xe).currentPageNumber,!0),Promise.resolve().then(()=>{e===o(this,K)&&c(this,Ft,!0)})}async dispatchWillSave(){var e;return(e=o(this,W))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var e;return(e=o(this,W))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var e;if(o(this,W)){await((e=o(this,re))==null?void 0:e.promise),c(this,re,Promise.withResolvers());try{await o(this,W).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(t){throw o(this,re).resolve(),c(this,re,null),t}await o(this,re).promise}}async dispatchDidPrint(){var e;return(e=o(this,W))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var e;return((e=o(this,dt))==null?void 0:e.promise)||null}get ready(){return o(this,Ft)}get _pageOpenPending(){return cn(this,"_pageOpenPending",new Set)}get _visitedPages(){return cn(this,"_visitedPages",new Map)}}fe=new WeakMap,dt=new WeakMap,Li=new WeakMap,ht=new WeakMap,ut=new WeakMap,Ti=new WeakMap,K=new WeakMap,xe=new WeakMap,Ft=new WeakMap,W=new WeakMap,re=new WeakMap,z=new WeakSet,Hr=async function(e){var h,f;const t=o(this,xe),i=t.isInPresentationMode||t.isChangingPresentationMode,{id:n,siblings:s,command:r,value:l}=e;if(!n){switch(r){case"clear":console.clear();break;case"error":console.error(l);break;case"layout":if(!i){const b=xa(l);t.spreadMode=b.spreadMode}break;case"page-num":t.currentPageNumber=l+1;break;case"print":await t.pagesPromise,o(this,ut).dispatch("print",{source:this});break;case"println":console.log(l);break;case"zoom":i||(t.currentScaleValue=l);break;case"SaveAs":o(this,ut).dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":i||t.increaseScale();break;case"ZoomViewOut":i||t.decreaseScale();break;case"WillPrintFinished":(h=o(this,re))==null||h.resolve(),c(this,re,null);break}return}if(i&&e.focus)return;delete e.id,delete e.siblings;const d=s?[n,...s]:[n];for(const b of d){const m=document.querySelector(`[data-element-id="${b}"]`);m?m.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):(f=o(this,K))==null||f.annotationStorage.setValue(b,e)}},dn=async function(e,t=!1){const i=o(this,K),n=this._visitedPages;if(t&&c(this,fe,Promise.withResolvers()),!o(this,fe))return;const s=o(this,xe).getPageView(e-1);if((s==null?void 0:s.renderingState)!==F.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);const r=(async()=>{var d,h;const l=await(n.has(e)?null:(d=s.pdfPage)==null?void 0:d.getJSActions());i===o(this,K)&&await((h=o(this,W))==null?void 0:h.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:l}))})();n.set(e,r)},as=async function(e){var s;const t=o(this,K),i=this._visitedPages;if(!o(this,fe)||this._pageOpenPending.has(e))return;const n=i.get(e);n&&(i.set(e,null),await n,t===o(this,K)&&await((s=o(this,W))==null?void 0:s.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))},Ur=function(){if(c(this,dt,Promise.withResolvers()),o(this,W))throw new Error("#initScripting: Scripting already exists.");return o(this,Ti).createScripting()},ti=async function(){var e,t,i,n;if(!o(this,W)){c(this,K,null),(e=o(this,dt))==null||e.resolve();return}o(this,fe)&&(await Promise.race([o(this,fe).promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(()=>{}),c(this,fe,null)),c(this,K,null);try{await o(this,W).destroySandbox()}catch{}(t=o(this,re))==null||t.reject(new Error("Scripting destroyed.")),c(this,re,null),(i=o(this,ht))==null||i.abort(),c(this,ht,null),this._pageOpenPending.clear(),this._visitedPages.clear(),c(this,W,null),c(this,Ft,!1),(n=o(this,dt))==null||n.resolve()};class ol extends al{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||(e.externalServices={createScripting:()=>new rl(e.sandboxBundleSrc)}),e.docProperties||(e.docProperties=t=>sl(t)),super(e)}}const ll=3e4;class dl{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){var t;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&((t=this.pdfThumbnailViewer)!=null&&t.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),ll)))}getHighestPriority(e,t,i,n=!1,s=!1){const r=e.views,l=r.length;if(l===0)return null;for(let m=0;m<l;m++){const E=r[m].view;if(!this.isViewFinished(E))return E}if(!s)for(let m=0;m<l;m++){const{detailView:E}=r[m].view;if(E&&!this.isViewFinished(E))return E}const d=e.first.id,h=e.last.id;if(h-d+1>l){const m=e.ids;for(let E=1,P=h-d;E<P;E++){const x=i?d+E:h-E;if(m.has(x))continue;const T=t[x-1];if(!this.isViewFinished(T))return T}}let f=i?h:d-2,b=t[f];return b&&!this.isViewFinished(b)||n&&(f+=i?1:-1,b=t[f],b&&!this.isViewFinished(b))?b:null}isViewFinished(e){return e.renderingState===F.FINISHED}renderView(e){switch(e.renderingState){case F.FINISHED:return!1;case F.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case F.RUNNING:this.highestPriorityPage=e.renderingId;break;case F.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof Cn||console.error("renderView:",t)});break}return!0}}const Zs=10,Ji={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function Qs(a){return Object.values(J).includes(a)&&a!==J.DISABLE}var Se,ct,Ri,os;class hl{constructor(e){g(this,Ri);g(this,Se,new Set);g(this,ct,0);c(this,ct,e)}push(e){const t=o(this,Se);t.has(e)&&t.delete(e),t.add(e),t.size>o(this,ct)&&u(this,Ri,os).call(this)}resize(e,t=null){c(this,ct,e);const i=o(this,Se);if(t){const n=i.size;let s=1;for(const r of i)if(t.has(r.id)&&(i.delete(r),i.add(r)),++s>n)break}for(;i.size>o(this,ct);)u(this,Ri,os).call(this)}has(e){return o(this,Se).has(e)}[Symbol.iterator](){return o(this,Se).keys()}}Se=new WeakMap,ct=new WeakMap,Ri=new WeakSet,os=function(){const e=o(this,Se).keys().next().value;e==null||e.destroy(),o(this,Se).delete(e)};var Ie,Ni,Mi,ae,te,ft,Vt,Di,ki,ji,Oi,Fi,Vi,Bi,Hi,Je,Ui,Bt,Ae,de,gt,pt,Ht,qe,Ut,Wi,Wt,mt,Ce,$t,$i,zt,zi,I,$r,zr,Gr,ii,hn,Xr,ls,Kr,Me,ds,Yr,Zr,Qr,hs,Jr,us,un,cs;class Wr{constructor(e){g(this,I);g(this,Ie,null);g(this,Ni,null);g(this,Mi,null);g(this,ae,J.NONE);g(this,te,null);g(this,ft,Le.ENABLE_FORMS);g(this,Vt,null);g(this,Di,null);g(this,ki,null);g(this,ji,!1);g(this,Oi,!1);g(this,Fi,!1);g(this,Vi,!1);g(this,Bi,!1);g(this,Hi,!0);g(this,Je,null);g(this,Ui,0);g(this,Bt,null);g(this,Ae,!0);g(this,de,null);g(this,gt,null);g(this,pt,null);g(this,Ht,!1);g(this,qe,null);g(this,Ut,!1);g(this,Wi,0);g(this,Wt,new ResizeObserver(u(this,I,Jr).bind(this)));g(this,mt,null);g(this,Ce,null);g(this,$t,null);g(this,$i,!0);g(this,zt,ge.ENABLE);g(this,zi,null);var n,s;const t="5.4.149";if(Es!==t)throw new Error(`The API version "${Es}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,c(this,zi,e.viewerAlert||null),((n=this.container)==null?void 0:n.tagName)!=="DIV"||((s=this.viewer)==null?void 0:s.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");o(this,Wt).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new ms,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,c(this,Ni,e.altTextManager||null),c(this,Vt,e.commentManager||null),c(this,$t,e.signatureManager||null),c(this,ki,e.editorUndoBar||null),this.findController&&(this.findController.onIsPageVisible=r=>this._getVisiblePages().ids.has(r)),this._scriptingManager=e.scriptingManager||null,c(this,zt,e.textLayerMode??ge.ENABLE),c(this,ft,e.annotationMode??Le.ENABLE_FORMS),c(this,ae,e.annotationEditorMode??J.NONE),c(this,Mi,e.annotationEditorHighlightColors||null),c(this,Oi,e.enableHighlightFloatingButton===!0),c(this,Vi,e.enableUpdatedAddImage===!0),c(this,Bi,e.enableNewAltTextWhenAddingImage===!0),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.maxCanvasDim=e.maxCanvasDim,this.capCanvasAreaFactor=e.capCanvasAreaFactor,this.enableDetailCanvas=e.enableDetailCanvas??!0,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,this.l10n=e.l10n,this.l10n||(this.l10n=new Xt),c(this,Fi,e.enablePermissions||!1),this.pageColors=e.pageColors||null,c(this,Bt,e.mlManager||null),c(this,ji,e.enableHWA||!1),c(this,$i,e.supportsPinchToZoom!==!1),c(this,Hi,e.enableAutoLinking!==!1),c(this,Ui,e.minDurationToUpdateCanvas??500),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new dl,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:i}=e;i==null||i.addEventListener("abort",()=>{o(this,Wt).disconnect(),c(this,Wt,null)},{once:!0}),this.scroll=ba(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=yt.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),u(this,I,hs).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:r,pdfPage:l})=>{const d=this._pages[r-1];o(this,Ie).has(d)||l==null||l.cleanup()}),e.l10n||this.l10n.translate(this.container)}get printingAllowed(){return o(this,Ae)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(o(this,Ie))}get pageViewsReady(){return this._pages.every(e=>e==null?void 0:e.pdfPage)}get renderForms(){return o(this,ft)===Le.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){var n;if(this._currentPageNumber===e)return t&&u(this,I,ds).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:((n=this._pageLabels)==null?void 0:n[e-1])??null,previous:i}),t&&u(this,I,ds).call(this),!0}get currentPageLabel(){var e;return((e=this._pageLabels)==null?void 0:e[this._currentPageNumber-1])??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){const i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==Pn?this._currentScale:tr}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&u(this,I,Me).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&u(this,I,Me).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!nr(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&u(this,I,Me).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const e=this;return cn(this,"_layerProperties",{get annotationEditorUIManager(){return o(e,te)},get annotationStorage(){var t;return(t=e.pdfDocument)==null?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableComment(){return!!o(e,Vt)},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.hasJSActions()},get linkService(){return e.linkService}})}async getAllText(){const e=[],t=[];for(let i=1,n=this.pdfDocument.numPages;i<=n;++i){if(o(this,Ut))return null;t.length=0;const s=await this.pdfDocument.getPage(i),{items:r}=await s.getTextContent();for(const l of r)l.str&&t.push(l.str),l.hasEOL&&t.push(`
`);e.push(ni(t.join("")))}return e.join(`
`)}setDocument(e){var m,E,P;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(m=this.findController)==null||m.setDocument(null),(E=this._scriptingManager)==null||E.setDocument(null),(P=o(this,te))==null||P.destroy(),c(this,te,null),c(this,ae,J.NONE),c(this,Ae,!0)),this.pdfDocument=e,!e)return;const t=e.numPages,i=e.getPage(1),n=e.getOptionalContentConfig({intent:"display"}),s=o(this,Fi)?e.getPermissions():Promise.resolve(),{eventBus:r,pageColors:l,viewer:d}=this;c(this,Je,new AbortController);const{signal:h}=o(this,Je);if(t>Ji.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const x=this._scrollMode=j.PAGE;r.dispatch("scrollmodechanged",{source:this,mode:x})}this._pagesCapability.promise.then(()=>{r.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});const f=x=>{const T=this._pages[x.pageNumber-1];T&&o(this,Ie).push(T)};r._on("pagerender",f,{signal:h});const b=x=>{x.cssTransform||x.isDetailView||(this._onePageRenderedCapability.resolve({timestamp:x.timestamp}),r._off("pagerendered",b))};r._on("pagerendered",b,{signal:h}),Promise.all([i,s]).then(([x,T])=>{var O;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(x),this._optionalContentConfigPromise=n;const{annotationEditorMode:N,annotationMode:C,textLayerMode:v}=u(this,I,$r).call(this,T);if(v!==ge.DISABLE){const A=c(this,qe,document.createElement("div"));A.id="hiddenCopyElement",d.before(A)}if(N!==J.DISABLE){const A=N;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):Qs(A)?(c(this,te,new na(this.container,d,o(this,zi),o(this,Ni),o(this,Vt),o(this,$t),r,e,l,o(this,Mi),o(this,Oi),o(this,Vi),o(this,Bi),o(this,Bt),o(this,ki),o(this,$i))),r.dispatch("annotationeditoruimanager",{source:this,uiManager:o(this,te)}),A!==J.NONE&&(u(this,I,cs).call(this,A),o(this,te).updateMode(A))):console.error(`Invalid AnnotationEditor mode: ${A}`)}const S=this._scrollMode===j.PAGE?null:d,M=this.currentScale,k=x.getViewport({scale:M*we.PDF_TO_CSS_UNITS});d.style.setProperty("--scale-factor",k.scale),l!=null&&l.background&&d.style.setProperty("--page-bg-color",l.background),((l==null?void 0:l.foreground)==="CanvasText"||(l==null?void 0:l.background)==="Canvas")&&(d.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),d.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let A=1;A<=t;++A){const w=new Or({container:S,eventBus:r,id:A,scale:M,defaultViewport:k.clone(),optionalContentConfigPromise:n,renderingQueue:this.renderingQueue,textLayerMode:v,annotationMode:C,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,maxCanvasDim:this.maxCanvasDim,capCanvasAreaFactor:this.capCanvasAreaFactor,enableDetailCanvas:this.enableDetailCanvas,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering,pageColors:l,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:o(this,ji),enableAutoLinking:o(this,Hi),minDurationToUpdateCanvas:o(this,Ui)});this._pages.push(w)}(O=this._pages[0])==null||O.setPdfPage(x),this._scrollMode===j.PAGE?u(this,I,ii).call(this):this._spreadMode!==X.NONE&&this._updateSpreadMode(),u(this,I,zr).call(this,h).then(async()=>{var w,y;if(e!==this.pdfDocument)return;if((w=this.findController)==null||w.setDocument(e),(y=this._scriptingManager)==null||y.setDocument(e),o(this,qe)&&document.addEventListener("copy",u(this,I,Gr).bind(this,v),{signal:h}),o(this,te)&&r.dispatch("annotationeditormodechanged",{source:this,mode:o(this,ae)}),e.loadingParams.disableAutoFetch||t>Ji.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let A=t-1;if(A<=0){this._pagesCapability.resolve();return}for(let D=2;D<=t;++D){const V=e.getPage(D).then(Y=>{const $=this._pages[D-1];$.pdfPage||$.setPdfPage(Y),--A===0&&this._pagesCapability.resolve()},Y=>{console.error(`Unable to get page ${D} to initialize viewer`,Y),--A===0&&this._pagesCapability.resolve()});D%Ji.PAUSE_EAGER_PAGE_INIT===0&&await V}}),r.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:A})=>{e===this.pdfDocument&&A.Language&&(d.lang=A.Language)}),this.defaultRenderingQueue&&this.update()}).catch(x=>{console.error("Unable to initialize viewer",x),this._pagesCapability.reject(x)})}setPageLabels(e){var t;if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let i=0,n=this._pages.length;i<n;i++)this._pages[i].setPageLabel(((t=this._pageLabels)==null?void 0:t[i])??null)}}_resetView(){var e,t;this._pages=[],this._currentPageNumber=1,this._currentScale=Pn,this._currentScaleValue=null,this._pageLabels=null,c(this,Ie,new hl(Zs)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=j.VERTICAL,this._previousScrollMode=j.UNKNOWN,this._spreadMode=X.NONE,c(this,mt,{previousPageNumber:1,scrollDown:!0,pages:[]}),(e=o(this,Je))==null||e.abort(),c(this,Je,null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),(t=o(this,qe))==null||t.remove(),c(this,qe,null),u(this,I,us).call(this),u(this,I,un).call(this)}_scrollUpdate(){this.pagesCount!==0&&(o(this,de)&&clearTimeout(o(this,de)),c(this,de,setTimeout(()=>{c(this,de,null),this.update()},100)),this.update())}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:n=!1}){if(!this.pdfDocument)return;const s=Number.isInteger(e)&&this._pages[e-1];if(!s){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let r=0,l=0,d=0,h=0,f,b;const m=s.rotation%180!==0,E=(m?s.height:s.width)/s.scale/we.PDF_TO_CSS_UNITS,P=(m?s.width:s.height)/s.scale/we.PDF_TO_CSS_UNITS;let x=0;switch(t[1].name){case"XYZ":r=t[2],l=t[3],x=t[4],r=r!==null?r:0,l=l!==null?l:P;break;case"Fit":case"FitB":x="page-fit";break;case"FitH":case"FitBH":l=t[2],x="page-width",l===null&&this._location?(r=this._location.left,l=this._location.top):(typeof l!="number"||l<0)&&(l=P);break;case"FitV":case"FitBV":r=t[2],d=E,h=P,x="page-height";break;case"FitR":r=t[2],l=t[3],d=t[4]-r,h=t[5]-l;let v=ys,S=Ps;this.removePageBorders&&(v=S=0),f=(this.container.clientWidth-v)/d/we.PDF_TO_CSS_UNITS,b=(this.container.clientHeight-S)/h/we.PDF_TO_CSS_UNITS,x=Math.min(Math.abs(f),Math.abs(b));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(n||(x&&x!==this._currentScale?this.currentScaleValue=x:this._currentScale===Pn&&(this.currentScaleValue=fa)),x==="page-fit"&&!t[4]){u(this,I,hn).call(this,s);return}const T=[s.viewport.convertToViewportPoint(r,l),s.viewport.convertToViewportPoint(r+d,l+h)];let N=Math.min(T[0][0],T[1][0]),C=Math.min(T[0][1],T[1][1]);i||(N=Math.max(N,0),C=Math.max(C,0)),u(this,I,hn).call(this,s,{left:N,top:C})}_updateLocation(e){const t=this._currentScale,i=this._currentScaleValue,n=parseFloat(i)===t?Math.round(t*1e4)/100:i,s=e.id,r=this._pages[s-1],l=this.container,d=r.getPagePoint(l.scrollLeft-e.x,l.scrollTop-e.y),h=Math.round(d[0]),f=Math.round(d[1]);let b=`#page=${s}`;this.isInPresentationMode||(b+=`&zoom=${n},${h},${f}`),this._location={pageNumber:s,scale:n,top:f,left:h,rotation:this._pagesRotation,pdfOpenParams:b}}update(){const e=this._getVisiblePages(),t=e.views,i=t.length;if(i===0)return;const n=Math.max(Zs,2*i+1);o(this,Ie).resize(n,e.ids);for(const{view:d,visibleArea:h}of t)d.updateVisibleArea(h);for(const d of o(this,Ie))e.ids.has(d.id)||d.updateVisibleArea(null);this.renderingQueue.renderHighestPriority(e);const s=this._spreadMode===X.NONE&&(this._scrollMode===j.PAGE||this._scrollMode===j.VERTICAL),r=this._currentPageNumber;let l=!1;for(const d of t){if(d.percent<100)break;if(d.id===r&&s){l=!0;break}}this._setCurrentPageNumber(l?r:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===yt.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===yt.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===j.PAGE?o(this,mt).pages:this._pages,t=this._scrollMode===j.HORIZONTAL,i=t&&this._isContainerRtl;return Ea({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:i})}cleanup(){for(const e of this._pages)e.renderingState!==F.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),i=u(this,I,Qr).call(this,t),n=this._spreadMode!==X.NONE&&this._scrollMode!==j.HORIZONTAL,s=o(this,Ce)!==null||o(this,de)!==null&&t.views.some(l=>{var d;return(d=l.detailView)==null?void 0:d.renderingCancelled}),r=this.renderingQueue.getHighestPriority(t,this._pages,i,n,s);return r?(u(this,I,Zr).call(this,r).then(()=>{this.renderingQueue.renderView(r)}),!0):!1}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){const n=this._pages[t];if(n.width!==e.width||n.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const i=t.pdfPage.getViewport({scale:1}),n=Ss(i);if(e===void 0)e=n;else if(this.enablePrintAutoRotate&&n!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!va(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>Ji.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===j.HORIZONTAL),i.classList.toggle("scrollWrapped",t===j.WRAPPED),!(!this.pdfDocument||!e)&&(t===j.PAGE?u(this,I,ii).call(this):this._previousScrollMode===j.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&u(this,I,Me).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!ya(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,i=this._pages;if(this._scrollMode===j.PAGE)u(this,I,ii).call(this);else if(t.textContent="",this._spreadMode===X.NONE)for(const n of this._pages)t.append(n.div);else{const n=this._spreadMode-1;let s=null;for(let r=0,l=i.length;r<l;++r)s===null?(s=document.createElement("div"),s.className="spread",t.append(s)):r%2===n&&(s=s.cloneNode(!1),t.append(s)),s.append(i[r].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&u(this,I,Me).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case j.WRAPPED:{const{views:i}=this._getVisiblePages(),n=new Map;for(const{id:s,y:r,percent:l,widthPercent:d}of i){if(l===0||d<100)continue;let h=n.get(r);h||n.set(r,h||(h=[])),h.push(s)}for(const s of n.values()){const r=s.indexOf(e);if(r===-1)continue;const l=s.length;if(l===1)break;if(t)for(let d=r-1,h=0;d>=h;d--){const f=s[d],b=s[d+1]-1;if(f<b)return e-b}else for(let d=r+1,h=l;d<h;d++){const f=s[d],b=s[d-1]+1;if(f>b)return b-e}if(t){const d=s[0];if(d<e)return e-d+1}else{const d=s[l-1];if(d>e)return d-e+1}break}break}case j.HORIZONTAL:break;case j.PAGE:case j.VERTICAL:{if(this._spreadMode===X.NONE)break;const i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;const{views:n}=this._getVisiblePages(),s=t?e-1:e+1;for(const{id:r,percent:l,widthPercent:d}of n)if(r===s){if(l>0&&d===100)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:i=null,origin:n}){if(i===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(t>0&&t!==1)s=Math.round(s*t*100)/100;else if(i){const r=i>0?vs:1/vs,l=i>0?Math.ceil:Math.floor;i=Math.abs(i);do s=l((s*r).toFixed(2)*10)/10;while(--i>0)}s=gs(s,ga,pa),u(this,I,Me).call(this,s,{noScroll:!1,drawingDelay:e,origin:n})}increaseScale(e={}){this.updateScale({...e,steps:e.steps??1})}decreaseScale(e={}){this.updateScale({...e,steps:-(e.steps??1)})}get containerTopLeft(){return o(this,Di)||c(this,Di,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return o(this,te)?o(this,ae):J.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:i=!1,mustEnterInEditMode:n=!1,editComment:s=!1}){if(!o(this,te))throw new Error("The AnnotationEditor is not enabled.");if(o(this,ae)===e)return;if(!Qs(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;u(this,I,cs).call(this,e);const{eventBus:r,pdfDocument:l}=this,d=async()=>{u(this,I,un).call(this),c(this,ae,e),await o(this,te).updateMode(e,t,i,n,s),!(e!==o(this,ae)||l!==this.pdfDocument)&&r.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===J.NONE||o(this,ae)===J.NONE){const h=e!==J.NONE;h||this.pdfDocument.annotationStorage.resetModifiedIds();for(const b of this._pages)b.toggleEditingMode(h);const f=u(this,I,Yr).call(this);if(h&&f){u(this,I,un).call(this),c(this,gt,new AbortController);const b=AbortSignal.any([o(this,Je).signal,o(this,gt).signal]);r._on("pagerendered",({pageNumber:m})=>{f.delete(m),f.size===0&&c(this,pt,setTimeout(d,0))},{signal:b});return}}d()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const i of this._pages)i.update(t);u(this,I,us).call(this),e||this.update()}}}Ie=new WeakMap,Ni=new WeakMap,Mi=new WeakMap,ae=new WeakMap,te=new WeakMap,ft=new WeakMap,Vt=new WeakMap,Di=new WeakMap,ki=new WeakMap,ji=new WeakMap,Oi=new WeakMap,Fi=new WeakMap,Vi=new WeakMap,Bi=new WeakMap,Hi=new WeakMap,Je=new WeakMap,Ui=new WeakMap,Bt=new WeakMap,Ae=new WeakMap,de=new WeakMap,gt=new WeakMap,pt=new WeakMap,Ht=new WeakMap,qe=new WeakMap,Ut=new WeakMap,Wi=new WeakMap,Wt=new WeakMap,mt=new WeakMap,Ce=new WeakMap,$t=new WeakMap,$i=new WeakMap,zt=new WeakMap,zi=new WeakMap,I=new WeakSet,$r=function(e){const t={annotationEditorMode:o(this,ae),annotationMode:o(this,ft),textLayerMode:o(this,zt)};return e?(c(this,Ae,e.includes(bt.PRINT_HIGH_QUALITY)||e.includes(bt.PRINT)),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:o(this,Ae)}),!e.includes(bt.COPY)&&o(this,zt)===ge.ENABLE&&(t.textLayerMode=ge.ENABLE_PERMISSIONS),e.includes(bt.MODIFY_CONTENTS)||(t.annotationEditorMode=J.DISABLE),!e.includes(bt.MODIFY_ANNOTATIONS)&&!e.includes(bt.FILL_INTERACTIVE_FORMS)&&o(this,ft)===Le.ENABLE_FORMS&&(t.annotationMode=Le.ENABLE),t):(c(this,Ae,!0),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:o(this,Ae)}),t)},zr=async function(e){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;const t=Promise.withResolvers(),i=new AbortController;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t.resolve()},{signal:AbortSignal.any([e,i.signal])}),await Promise.race([this._onePageRenderedCapability.promise,t.promise]),i.abort()},Gr=function(e,t){const i=document.getSelection(),{focusNode:n,anchorNode:s}=i;if(s&&n&&i.containsNode(o(this,qe))){if(o(this,Ht)||e===ge.ENABLE_PERMISSIONS){Ln(t);return}c(this,Ht,!0);const{classList:r}=this.viewer;r.add("copyAll");const l=new AbortController;window.addEventListener("keydown",d=>c(this,Ut,d.key==="Escape"),{signal:l.signal}),this.getAllText().then(async d=>{d!==null&&await navigator.clipboard.writeText(d)}).catch(d=>{console.warn(`Something goes wrong when extracting the text: ${d.message}`)}).finally(()=>{c(this,Ht,!1),c(this,Ut,!1),l.abort(),r.remove("copyAll")}),Ln(t)}},ii=function(){if(this._scrollMode!==j.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=o(this,mt),i=this.viewer;if(i.textContent="",t.pages.length=0,this._spreadMode===X.NONE&&!this.isInPresentationMode){const n=this._pages[e-1];i.append(n.div),t.pages.push(n)}else{const n=new Set,s=this._spreadMode-1;s===-1?n.add(e-1):e%2!==s?(n.add(e-1),n.add(e)):(n.add(e-2),n.add(e-1));const r=document.createElement("div");if(r.className="spread",this.isInPresentationMode){const l=document.createElement("div");l.className="dummyPage",r.append(l)}for(const l of n){const d=this._pages[l];d&&(r.append(d.div),t.pages.push(d))}i.append(r)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e},hn=function(e,t=null){const{div:i,id:n}=e;if(this._currentPageNumber!==n&&this._setCurrentPageNumber(n),this._scrollMode===j.PAGE&&(u(this,I,ii).call(this),this.update()),!t&&!this.isInPresentationMode){const s=i.offsetLeft+i.clientLeft,r=s+i.clientWidth,{scrollLeft:l,clientWidth:d}=this.container;(this._scrollMode===j.HORIZONTAL||s<l||r>l+d)&&(t={left:0,top:0})}ir(i,t),!this._currentScaleValue&&this._location&&(this._location=null)},Xr=function(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15},ls=function(e,t,{noScroll:i=!1,preset:n=!1,drawingDelay:s=-1,origin:r=null}){if(this._currentScaleValue=t.toString(),u(this,I,Xr).call(this,e)){n&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*we.PDF_TO_CSS_UNITS);const l=s>=0&&s<1e3;this.refresh(!0,{scale:e,drawingDelay:l?s:-1}),l&&c(this,Ce,setTimeout(()=>{c(this,Ce,null),this.refresh()},s));const d=this._currentScale;if(this._currentScale=e,!i){let h=this._currentPageNumber,f;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(h=this._location.pageNumber,f=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:h,destArray:f,allowNegativeOffset:!0}),Array.isArray(r)){const b=e/d-1,[m,E]=this.containerTopLeft;this.container.scrollLeft+=(r[0]-E)*b,this.container.scrollTop+=(r[1]-m)*b}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:n?t:void 0}),this.defaultRenderingQueue&&this.update()},Kr=function(){return this._spreadMode!==X.NONE&&this._scrollMode!==j.HORIZONTAL?2:1},Me=function(e,t){let i=parseFloat(e);if(i>0)t.preset=!1,u(this,I,ls).call(this,i,e,t);else{const n=this._pages[this._currentPageNumber-1];if(!n)return;let s=ys,r=Ps;this.isInPresentationMode?(s=r=4,this._spreadMode!==X.NONE&&(s*=2)):this.removePageBorders?s=r=0:this._scrollMode===j.HORIZONTAL&&([s,r]=[r,s]);const l=(this.container.clientWidth-s)/n.width*n.scale/o(this,I,Kr),d=(this.container.clientHeight-r)/n.height*n.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=l;break;case"page-height":i=d;break;case"page-fit":i=Math.min(l,d);break;case"auto":const h=Ss(n)?l:Math.min(d,l);i=Math.min(ma,h);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,u(this,I,ls).call(this,i,e,t)}},ds=function(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&u(this,I,Me).call(this,this._currentScaleValue,{noScroll:!0}),u(this,I,hn).call(this,e)},Yr=function(){const e=this._getVisiblePages(),t=[],{ids:i,views:n}=e;for(const s of n){const{view:r}=s;if(!r.hasEditableAnnotations()){i.delete(r.id);continue}t.push(s)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:i}),i)},Zr=async function(e){if(e.pdfPage)return e.pdfPage;try{const t=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}},Qr=function(e){var t,i;if(((t=e.first)==null?void 0:t.id)===1)return!0;if(((i=e.last)==null?void 0:i.id)===this.pagesCount)return!1;switch(this._scrollMode){case j.PAGE:return o(this,mt).scrollDown;case j.HORIZONTAL:return this.scroll.right}return this.scroll.down},hs=function(e=this.container.clientHeight){e!==o(this,Wi)&&(c(this,Wi,e),Pa.setProperty("--viewer-container-height",`${e}px`))},Jr=function(e){for(const t of e)if(t.target===this.container){u(this,I,hs).call(this,Math.floor(t.borderBoxSize[0].blockSize)),c(this,Di,null);break}},us=function(){o(this,Ce)!==null&&(clearTimeout(o(this,Ce)),c(this,Ce,null)),o(this,de)!==null&&(clearTimeout(o(this,de)),c(this,de,null))},un=function(){var e;(e=o(this,gt))==null||e.abort(),c(this,gt,null),o(this,pt)!==null&&(clearTimeout(o(this,pt)),c(this,pt,null))},cs=function(e){var t,i;switch(e){case J.STAMP:(t=o(this,Bt))==null||t.loadModel("altText");break;case J.SIGNATURE:(i=o(this,$t))==null||i.loadSignatures();break}};class ul extends Wr{_resetView(){super._resetView(),this._scrollMode=j.PAGE,this._spreadMode=X.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}globalThis.pdfjsViewer={AnnotationLayerBuilder:fr,DownloadManager:Ga,EventBus:pr,FindState:Ne,GenericL10n:Xt,LinkTarget:tt,parseQueryString:wn,PDFFindController:$a,PDFHistory:Go,PDFLinkService:cr,PDFPageView:Or,PDFScriptingManager:ol,PDFSinglePageViewer:ul,PDFViewer:Wr,ProgressBar:_a,RenderingStates:F,ScrollMode:j,SimpleLinkService:ms,SpreadMode:X,StructTreeLayerBuilder:Rr,TextLayerBuilder:fn,XfaLayerBuilder:jr};export{fr as AnnotationLayerBuilder,Ga as DownloadManager,pr as EventBus,Ne as FindState,Xt as GenericL10n,tt as LinkTarget,$a as PDFFindController,Go as PDFHistory,cr as PDFLinkService,Or as PDFPageView,ol as PDFScriptingManager,ul as PDFSinglePageViewer,Wr as PDFViewer,_a as ProgressBar,F as RenderingStates,j as ScrollMode,ms as SimpleLinkService,X as SpreadMode,Rr as StructTreeLayerBuilder,fn as TextLayerBuilder,jr as XfaLayerBuilder,wn as parseQueryString};
